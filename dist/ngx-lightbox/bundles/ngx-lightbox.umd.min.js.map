{"version":3,"sources":["../../../projects/ngx-lightbox/src/lib/lightbox-event.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.component.html","../../../projects/ngx-lightbox/src/lib/lightbox.component.ts","../../../projects/ngx-lightbox/src/lib/lightbox-overlay.component.ts","../../../projects/ngx-lightbox/src/lib/lightbox-config.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.module.ts"],"names":["LIGHTBOX_EVENT","CHANGE_PAGE","CLOSE","OPEN","ZOOM_IN","ZOOM_OUT","ROTATE_LEFT","ROTATE_RIGHT","FILE_NOT_FOUND","LightboxEvent","this","_lightboxEventSource","Subject","lightboxEvent$","asObservable","prototype","broadcastLightboxEvent","event","next","factory","providedIn","Injectable","args","LightboxWindowRef","Object","defineProperty","get","window","i0","ctx_r2","album","currentImageIndex","src","ui","showReloader","ctx_r3","SafePipe","sanitizer","transform","url","bypassSecurityTrustResourceUrl","i1","DomSanitizer","pure","Pipe","name","LightboxComponent","_elemRef","_rendererRef","_lightboxEvent","_lightboxElem","_lightboxWindowRef","_sanitizer","_documentRef","_this","options","_windowRef","nativeWindow","showLeftArrow","showRightArrow","showArrowNav","showZoomButton","showRotateButton","showPageNumber","showCaption","classList","content","pageNumber","_event","subscription","subscribe","_onReceivedEvent","rotate","ngOnInit","forEach","caption","sanitize","SecurityContext","HTML","ngAfterViewInit","_cssValue","containerTopPadding","Math","round","_getCssStyleValue","_containerElem","containerRightPadding","containerBottomPadding","containerLeftPadding","imageBorderWidthTop","_imageElem","_iframeElem","imageBorderWidthBottom","imageBorderWidthLeft","imageBorderWidthRight","_validateInputData","_prepareComponent","_registerImageLoadingEvent","ngOnDestroy","disableKeyboardNav","_disableKeyboardNav","unsubscribe","close","$event","stopPropagation","target","contains","id","data","control","height","width","_rotateContainer","_calcTransformPoint","getElementById","style","webkitTransform","parseInt","temp","_resetImage","image","transformOrigin","nextImage","length","_changeImage","prevImage","Array","Error","i","isNaN","Number","iframe","needsIframe","setTimeout","_onLoadImageSuccess","preloader","Image","onload","onerror","e","URL","imageHeight","imageWidth","maxImageHeight","maxImageWidth","windowHeight","windowWidth","naturalImageWidth","naturalImageHeight","nativeElement","naturalWidth","innerWidth","naturalHeight","innerHeight","fitImageInViewPort","setStyle","_sizeContainer","centerVertically","_centerVertically","topDistance","documentElement","scrollTop","oldWidth","_outerContainerElem","offsetWidth","oldHeight","offsetHeight","newWidth","newHeight","abs","enableTransition","transitions","eventName","push","listen","currentTarget","_postResize","isArray","eventHandler","_dataContainerElem","_showImage","_updateNav","_updateDetails","_enableKeyboardNav","_addCssAnimation","_positionLightBox","showZoom","showRotate","top","pageYOffset","positionFromTop","left","pageXOffset","scrollLeft","disableScrolling","addClass","resizeDuration","fadeDuration","_captionElem","_numberElem","_end","removeClass","cmpRef","destroy","showImageNumberLabel","_albumLabel","albumLabel","replace","newIndex","_hideImage","alwaysShowNav","createEvent","_showArrowNav","wrapAround","_leftArrowElem","_rightArrowElem","_showLeftArrowNav","_showRightArrowNav","keyup","_keyboardAction","keycode","keyCode","key","String","fromCharCode","toLowerCase","match","elem","propertyName","parseFloat","getComputedStyle","getPropertyValue","t","i0__namespace","ElementRef","Renderer2","i1__namespace","DOCUMENT","selectors","viewQuery","rf","ctx","LightboxComponent_img_4_Template","LightboxComponent_iframe_5_Template","encapsulation","Component","selector","host","templateUrl","Inject","Input","ViewChild","_navArrowElem","HostListener","LightboxOverlayComponent","_subscription","_sizeOverlay","onResize","_getOverlayWidth","_getOverlayHeight","max","body","scrollWidth","clientWidth","scrollHeight","clientHeight","hostVars","hostBindings","template","LightboxConfig","alwaysShowNavOnTouchDevices","containerElementResolver","documentRef","querySelector","Lightbox","_componentFactoryResolver","_injector","_applicationRef","_lightboxConfig","open","curIndex","overlayComponentRef","_createComponent","componentRef","newOptions","assign","instance","attachView","hostView","onDestroy","detachView","containerElement","appendChild","location","ComponentClass","resolveComponentFactory","create","ComponentFactoryResolver","Injector","ApplicationRef","LightboxModule","providers","imports","CommonModule","ngJitMode","declarations","NgModule","entryComponents"],"mappings":"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","sourcesContent":["import { Observable, Subject } from 'rxjs';\r\n\r\nimport { Injectable} from '@angular/core';\r\n\r\nexport interface IEvent {\r\n  id: number;\r\n  data?: any;\r\n}\r\n\r\nexport interface IAlbum {\r\n  src: string;\r\n  caption?: string;\r\n  thumb: string;\r\n  iframe?: boolean;\r\n}\r\n\r\nexport const LIGHTBOX_EVENT = {\r\n  CHANGE_PAGE: 1,\r\n  CLOSE: 2,\r\n  OPEN: 3,\r\n  ZOOM_IN: 4,\r\n  ZOOM_OUT: 5,\r\n  ROTATE_LEFT: 6,\r\n  ROTATE_RIGHT: 7,\r\n  FILE_NOT_FOUND: 8\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxEvent {\r\n  private _lightboxEventSource: Subject<Object>;\r\n  public lightboxEvent$: Observable<Object>;\r\n  constructor() {\r\n    this._lightboxEventSource = new Subject<Object>();\r\n    this.lightboxEvent$ = this._lightboxEventSource.asObservable();\r\n  }\r\n\r\n  broadcastLightboxEvent(event: any): void {\r\n    this._lightboxEventSource.next(event);\r\n  }\r\n}\r\n\r\nfunction getWindow (): any {\r\n  return window;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxWindowRef {\r\n  get nativeWindow (): any {\r\n      return getWindow();\r\n  }\r\n}\r\n","<div class=\"lb-outerContainer transition\" #outerContainer id=\"outerContainer\">\r\n    <div class=\"lb-container\" #container id=\"container\">\r\n        <img class=\"lb-image\" id=\"image\" [src]=\"album[currentImageIndex].src\" class=\"lb-image animation fadeIn\"\r\n            [hidden]=\"ui.showReloader\" #image\r\n            *ngIf=\"!album[currentImageIndex].iframe && !needsIframe(album[currentImageIndex].src)\">\r\n        <iframe class=\"lb-image\" id=\"iframe\" [src]=\"album[currentImageIndex].src | safe\"\r\n            class=\"lb-image lb-iframe animation fadeIn\" [hidden]=\"ui.showReloader\" #iframe\r\n            *ngIf=\"album[currentImageIndex].iframe || needsIframe(album[currentImageIndex].src)\">\r\n        </iframe>\r\n        <div class=\"lb-nav\" [hidden]=\"!ui.showArrowNav\" #navArrow>\r\n            <a class=\"lb-prev\" [hidden]=\"!ui.showLeftArrow\" (click)=\"prevImage()\" #leftArrow></a>\r\n            <a class=\"lb-next\" [hidden]=\"!ui.showRightArrow\" (click)=\"nextImage()\" #rightArrow></a>\r\n        </div>\r\n        <div class=\"lb-loader\" [hidden]=\"!ui.showReloader\" (click)=\"close($event)\">\r\n            <a class=\"lb-cancel\"></a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"lb-dataContainer\" [hidden]=\"ui.showReloader\" #dataContainer>\r\n    <div class=\"lb-data\">\r\n        <div class=\"lb-details\">\r\n            <span class=\"lb-caption animation fadeIn\" [hidden]=\"!ui.showCaption\"\r\n                [innerHtml]=\"album[currentImageIndex].caption\" #caption>\r\n            </span>\r\n            <span class=\"lb-number animation fadeIn\" [hidden]=\"!ui.showPageNumber\" #number>{{ content.pageNumber\r\n                }}</span>\r\n        </div>\r\n        <div class=\"lb-controlContainer\">\r\n            <div class=\"lb-closeContainer\">\r\n                <a class=\"lb-close\" (click)=\"close($event)\"></a>\r\n            </div>\r\n            <div class=\"lb-turnContainer\" [hidden]=\"!ui.showRotateButton\">\r\n                <a class=\"lb-turnLeft\" (click)=\"control($event)\"></a>\r\n                <a class=\"lb-turnRight\" (click)=\"control($event)\"></a>\r\n            </div>\r\n            <div class=\"lb-zoomContainer\" [hidden]=\"!ui.showZoomButton\">\r\n                <a class=\"lb-zoomOut\" (click)=\"control($event)\"></a>\r\n                <a class=\"lb-zoomIn\" (click)=\"control($event)\"></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import {DOCUMENT} from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit, Pipe, PipeTransform,\r\n  Renderer2,\r\n  SecurityContext,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\n\r\nimport {IAlbum, IEvent, LIGHTBOX_EVENT, LightboxEvent, LightboxWindowRef} from './lightbox-event.service';\r\n\r\n@Pipe({ name: 'safe' })\r\nexport class SafePipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: '[lb-content]',\r\n  host: {\r\n    '[class]': 'ui.classList'\r\n  },\r\n  templateUrl: \"./lightbox.component.html\",\r\n})\r\nexport class LightboxComponent implements OnInit, AfterViewInit, OnDestroy, OnInit {\r\n  @Input() album: Array<IAlbum>;\r\n  @Input() currentImageIndex: number;\r\n  @Input() options: any;\r\n  @Input() cmpRef: any;\r\n  @ViewChild('outerContainer') _outerContainerElem: ElementRef;\r\n  @ViewChild('container') _containerElem: ElementRef;\r\n  @ViewChild('leftArrow') _leftArrowElem: ElementRef;\r\n  @ViewChild('rightArrow') _rightArrowElem: ElementRef;\r\n  @ViewChild('navArrow') _navArrowElem: ElementRef;\r\n  @ViewChild('dataContainer') _dataContainerElem: ElementRef;\r\n  @ViewChild('image') _imageElem: ElementRef;\r\n  @ViewChild('iframe') _iframeElem: ElementRef;\r\n  @ViewChild('caption') _captionElem: ElementRef;\r\n  @ViewChild('number') _numberElem: ElementRef;\r\n  public content: any;\r\n  public ui: any;\r\n  private _cssValue: any;\r\n  private _event: any;\r\n  private _windowRef: any;\r\n  private rotate: number;\r\n  constructor(\r\n    private _elemRef: ElementRef,\r\n    private _rendererRef: Renderer2,\r\n    private _lightboxEvent: LightboxEvent,\r\n    public _lightboxElem: ElementRef,\r\n    private _lightboxWindowRef: LightboxWindowRef,\r\n    private _sanitizer: DomSanitizer,\r\n    @Inject(DOCUMENT) private _documentRef\r\n  ) {\r\n    // initialize data\r\n    this.options = this.options || {};\r\n    this.album = this.album || [];\r\n    this.currentImageIndex = this.currentImageIndex || 0;\r\n    this._windowRef = this._lightboxWindowRef.nativeWindow;\r\n\r\n    // control the interactive of the directive\r\n    this.ui = {\r\n      // control the appear of the reloader\r\n      // false: image has loaded completely and ready to be shown\r\n      // true: image is still loading\r\n      showReloader: true,\r\n\r\n      // control the appear of the nav arrow\r\n      // the arrowNav is the parent of both left and right arrow\r\n      // in some cases, the parent shows but the child does not show\r\n      showLeftArrow: false,\r\n      showRightArrow: false,\r\n      showArrowNav: false,\r\n\r\n      // control the appear of the zoom and rotate buttons\r\n      showZoomButton: false,\r\n      showRotateButton: false,\r\n\r\n      // control whether to show the\r\n      // page number or not\r\n      showPageNumber: false,\r\n      showCaption: false,\r\n      classList: 'lightbox animation fadeIn'\r\n    };\r\n\r\n    this.content = {\r\n      pageNumber: ''\r\n    };\r\n\r\n    this._event = {};\r\n    this._lightboxElem = this._elemRef;\r\n    this._event.subscription = this._lightboxEvent.lightboxEvent$\r\n      .subscribe((event: IEvent) => this._onReceivedEvent(event));\r\n    this.rotate = 0;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.album.forEach(album => {\r\n      if (album.caption) {\r\n        album.caption = this._sanitizer.sanitize(SecurityContext.HTML, album.caption);\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    // need to init css value here, after the view ready\r\n    // actually these values are always 0\r\n    this._cssValue = {\r\n      containerTopPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-top')),\r\n      containerRightPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-right')),\r\n      containerBottomPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-bottom')),\r\n      containerLeftPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-left')),\r\n      imageBorderWidthTop: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-top-width')),\r\n      imageBorderWidthBottom: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-bottom-width')),\r\n      imageBorderWidthLeft: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-left-width')),\r\n      imageBorderWidthRight: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-right-width'))\r\n    };\r\n\r\n    if (this._validateInputData()) {\r\n      this._prepareComponent();\r\n      this._registerImageLoadingEvent();\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    if (!this.options.disableKeyboardNav) {\r\n      // unbind keyboard event\r\n      this._disableKeyboardNav();\r\n    }\r\n\r\n    this._event.subscription.unsubscribe();\r\n  }\r\n\r\n  @HostListener('close', ['$event'])\r\n  public close($event: any): void {\r\n    $event.stopPropagation();\r\n    if ($event.target.classList.contains('lightbox') ||\r\n      $event.target.classList.contains('lb-loader') ||\r\n      $event.target.classList.contains('lb-close')) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n    }\r\n  }\r\n\r\n  public control($event: any): void {\r\n    $event.stopPropagation();\r\n    let height: number;\r\n    let width: number;\r\n    if ($event.target.classList.contains('lb-turnLeft')) {\r\n      this.rotate = this.rotate - 90;\r\n      this._rotateContainer();\r\n      this._calcTransformPoint();\r\n      this._documentRef.getElementById('image').style.transform = `rotate(${this.rotate}deg)`;\r\n      this._documentRef.getElementById('image').style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ROTATE_LEFT, data: null });\r\n    } else if ($event.target.classList.contains('lb-turnRight')) {\r\n      this.rotate = this.rotate + 90;\r\n      this._rotateContainer();\r\n      this._calcTransformPoint();\r\n      this._documentRef.getElementById('image').style.transform = `rotate(${this.rotate}deg)`;\r\n      this._documentRef.getElementById('image').style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ROTATE_RIGHT, data: null });\r\n    } else if ($event.target.classList.contains('lb-zoomOut')) {\r\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) / 1.5;\r\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) / 1.5;\r\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\r\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\r\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) / 1.5;\r\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) / 1.5;\r\n      this._documentRef.getElementById('image').style.height = height + 'px';\r\n      this._documentRef.getElementById('image').style.width = width + 'px';\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ZOOM_OUT, data: null });\r\n    } else if ($event.target.classList.contains('lb-zoomIn')) {\r\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) * 1.5;\r\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) * 1.5;\r\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\r\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\r\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) * 1.5;\r\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) * 1.5;\r\n      this._documentRef.getElementById('image').style.height = height + 'px';\r\n      this._documentRef.getElementById('image').style.width = width + 'px';\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ZOOM_IN, data: null });\r\n    }\r\n  }\r\n\r\n  private _rotateContainer(): void {\r\n    let temp = this.rotate;\r\n    if (temp < 0) {\r\n      temp *= -1;\r\n    }\r\n    if (temp / 90 % 4 === 1 || temp / 90 % 4 === 3) {\r\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.height;\r\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\r\n    } else {\r\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.height;\r\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\r\n    }\r\n  }\r\n\r\n  private _resetImage(): void {\r\n    this.rotate = 0;\r\n    const image = this._documentRef.getElementById('image');\r\n    if (image) {\r\n      image.style.transform = `rotate(${this.rotate}deg)`;\r\n      image.style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n    }\r\n\r\n  }\r\n\r\n  private _calcTransformPoint(): void {\r\n    let height = parseInt(this._documentRef.getElementById('image').style.height, 10);\r\n    let width = parseInt(this._documentRef.getElementById('image').style.width, 10);\r\n    let temp = this.rotate % 360;\r\n    if (temp < 0) {\r\n      temp = 360 + temp;\r\n    }\r\n    if (temp === 90) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (height / 2) + 'px ' + (height / 2) + 'px';\r\n    } else if (temp === 180) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (height / 2) + 'px';\r\n } else if (temp === 270) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (width / 2) + 'px';\r\n }\r\n  }\r\n\r\n  public nextImage(): void {\r\n    if (this.album.length === 1) {\r\n      return;\r\n    } else if (this.currentImageIndex === this.album.length - 1) {\r\n      this._changeImage(0);\r\n    } else {\r\n      this._changeImage(this.currentImageIndex + 1);\r\n    }\r\n  }\r\n\r\n  public prevImage(): void {\r\n    if (this.album.length === 1) {\r\n      return;\r\n    } else if (this.currentImageIndex === 0 && this.album.length > 1) {\r\n      this._changeImage(this.album.length - 1);\r\n    } else {\r\n      this._changeImage(this.currentImageIndex - 1);\r\n    }\r\n  }\r\n\r\n  private _validateInputData(): boolean {\r\n    if (this.album &&\r\n      this.album instanceof Array &&\r\n      this.album.length > 0) {\r\n      for (let i = 0; i < this.album.length; i++) {\r\n        // check whether each _nside\r\n        // album has src data or not\r\n        if (this.album[i].src) {\r\n          continue;\r\n        }\r\n\r\n        throw new Error('One of the album data does not have source data');\r\n      }\r\n    } else {\r\n      throw new Error('No album data or album data is not correct in type');\r\n    }\r\n\r\n    // to prevent data understand as string\r\n    // convert it to number\r\n    if (isNaN(this.currentImageIndex)) {\r\n      throw new Error('Current image index is not a number');\r\n    } else {\r\n      this.currentImageIndex = Number(this.currentImageIndex);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private _registerImageLoadingEvent(): void {\r\n    const src: any = this.album[this.currentImageIndex].src;\r\n\r\n    if (this.album[this.currentImageIndex].iframe || this.needsIframe(src)) {\r\n      setTimeout( () => {\r\n        this._onLoadImageSuccess();\r\n      });\r\n      return;\r\n    }\r\n\r\n    const preloader = new Image();\r\n\r\n    preloader.onload = () => {\r\n      this._onLoadImageSuccess();\r\n    }\r\n\r\n    preloader.onerror = (e) => {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.FILE_NOT_FOUND, data: e });\r\n    }\r\n\r\n    preloader.src = this._sanitizer.sanitize(SecurityContext.URL, src);\r\n  }\r\n\r\n  /**\r\n   * Fire when the image is loaded\r\n   */\r\n  private _onLoadImageSuccess(): void {\r\n    if (!this.options.disableKeyboardNav) {\r\n      // unbind keyboard event during transition\r\n      this._disableKeyboardNav();\r\n    }\r\n\r\n    let imageHeight;\r\n    let imageWidth;\r\n    let maxImageHeight;\r\n    let maxImageWidth;\r\n    let windowHeight;\r\n    let windowWidth;\r\n    let naturalImageWidth;\r\n    let naturalImageHeight;\r\n\r\n    // set default width and height of image to be its natural\r\n    imageWidth = naturalImageWidth = this._imageElem ? this._imageElem.nativeElement.naturalWidth : this._windowRef.innerWidth * .8;\r\n    imageHeight = naturalImageHeight = this._imageElem ? this._imageElem.nativeElement.naturalHeight : this._windowRef.innerHeight * .8;\r\n    if (this.options.fitImageInViewPort) {\r\n      windowWidth = this._windowRef.innerWidth;\r\n      windowHeight = this._windowRef.innerHeight;\r\n      maxImageWidth = windowWidth - this._cssValue.containerLeftPadding -\r\n        this._cssValue.containerRightPadding - this._cssValue.imageBorderWidthLeft -\r\n        this._cssValue.imageBorderWidthRight - 20;\r\n      maxImageHeight = windowHeight - this._cssValue.containerTopPadding -\r\n        this._cssValue.containerTopPadding - this._cssValue.imageBorderWidthTop -\r\n        this._cssValue.imageBorderWidthBottom - 120;\r\n      if (naturalImageWidth > maxImageWidth || naturalImageHeight > maxImageHeight) {\r\n        if ((naturalImageWidth / maxImageWidth) > (naturalImageHeight / maxImageHeight)) {\r\n          imageWidth = maxImageWidth;\r\n          imageHeight = Math.round(naturalImageHeight / (naturalImageWidth / imageWidth));\r\n        } else {\r\n          imageHeight = maxImageHeight;\r\n          imageWidth = Math.round(naturalImageWidth / (naturalImageHeight / imageHeight));\r\n        }\r\n      }\r\n\r\n      this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement, 'width', `${imageWidth}px`);\r\n      this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement, 'height', `${imageHeight}px`);\r\n    }\r\n\r\n    this._sizeContainer(imageWidth, imageHeight);\r\n\r\n    if (this.options.centerVertically) {\r\n      this._centerVertically(imageWidth, imageHeight);\r\n    }\r\n  }\r\n\r\n  private _centerVertically(imageWidth: number, imageHeight: number): void {\r\n    const scrollOffset = this._documentRef.documentElement.scrollTop;\r\n    const windowHeight = this._windowRef.innerHeight;\r\n\r\n    const viewOffset = windowHeight / 2 - imageHeight / 2;\r\n    const topDistance = scrollOffset + viewOffset;\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', `${topDistance}px`);\r\n  }\r\n\r\n  private _sizeContainer(imageWidth: number, imageHeight: number): void {\r\n    const oldWidth = this._outerContainerElem.nativeElement.offsetWidth;\r\n    const oldHeight = this._outerContainerElem.nativeElement.offsetHeight;\r\n    const newWidth = imageWidth + this._cssValue.containerRightPadding + this._cssValue.containerLeftPadding +\r\n      this._cssValue.imageBorderWidthLeft + this._cssValue.imageBorderWidthRight;\r\n    const newHeight = imageHeight + this._cssValue.containerTopPadding + this._cssValue.containerBottomPadding +\r\n      this._cssValue.imageBorderWidthTop + this._cssValue.imageBorderWidthBottom;\r\n\r\n    // make sure that distances are large enough for transitionend event to be fired, at least 5px.\r\n    if (Math.abs(oldWidth - newWidth) + Math.abs(oldHeight - newHeight) > 5) {\r\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'width', `${newWidth}px`);\r\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'height', `${newHeight}px`);\r\n\r\n      // bind resize event to outer container\r\n      // use enableTransition to prevent infinite loader\r\n      if (this.options.enableTransition) {\r\n        this._event.transitions = [];\r\n        ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'MSTransitionEnd'].forEach(eventName => {\r\n          this._event.transitions.push(\r\n            this._rendererRef.listen(this._outerContainerElem.nativeElement, eventName, (event: any) => {\r\n              if (event.target === event.currentTarget) {\r\n                this._postResize(newWidth, newHeight);\r\n              }\r\n            })\r\n          );\r\n        });\r\n      } else {\r\n        this._postResize(newWidth, newHeight);\r\n      }\r\n    } else {\r\n      this._postResize(newWidth, newHeight);\r\n    }\r\n  }\r\n\r\n  private _postResize(newWidth: number, newHeight: number): void {\r\n    // unbind resize event\r\n    if (Array.isArray(this._event.transitions)) {\r\n      this._event.transitions.forEach((eventHandler: any) => {\r\n        eventHandler();\r\n      });\r\n\r\n      this._event.transitions = [];\r\n    }\r\n\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'width', `${newWidth}px`);\r\n    this._showImage();\r\n  }\r\n\r\n  private _showImage(): void {\r\n    this.ui.showReloader = false;\r\n    this._updateNav();\r\n    this._updateDetails();\r\n    if (!this.options.disableKeyboardNav) {\r\n      this._enableKeyboardNav();\r\n    }\r\n  }\r\n\r\n  private _prepareComponent(): void {\r\n    // add css3 animation\r\n    this._addCssAnimation();\r\n\r\n    // position the image according to user's option\r\n    this._positionLightBox();\r\n\r\n    // update controls visibility on next view generation\r\n    setTimeout(() => {\r\n      this.ui.showZoomButton = this.options.showZoom;\r\n      this.ui.showRotateButton = this.options.showRotate;\r\n    }, 0);\r\n  }\r\n\r\n  private _positionLightBox(): void {\r\n    // @see https://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\r\n    const top = (this._windowRef.pageYOffset || this._documentRef.documentElement.scrollTop) +\r\n      this.options.positionFromTop;\r\n    const left = this._windowRef.pageXOffset || this._documentRef.documentElement.scrollLeft;\r\n\r\n    if (!this.options.centerVertically) {\r\n      this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', `${top}px`);\r\n    }\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'left', `${left}px`);\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'display', 'block');\r\n\r\n    // disable scrolling of the page while open\r\n    if (this.options.disableScrolling) {\r\n      this._rendererRef.addClass(this._documentRef.documentElement, 'lb-disable-scrolling');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * addCssAnimation add css3 classes for animate lightbox\r\n   */\r\n  private _addCssAnimation(): void {\r\n    const resizeDuration = this.options.resizeDuration;\r\n    const fadeDuration = this.options.fadeDuration;\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement,\r\n      '-webkit-transition-duration', `${resizeDuration}s`);\r\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement,\r\n      'transition-duration', `${resizeDuration}s`);\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._captionElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._captionElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._numberElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._numberElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n  }\r\n\r\n  private _end(): void {\r\n    this.ui.classList = 'lightbox animation fadeOut';\r\n    if (this.options.disableScrolling) {\r\n      this._rendererRef.removeClass(this._documentRef.documentElement, 'lb-disable-scrolling');\r\n    }\r\n    setTimeout(() => {\r\n      this.cmpRef.destroy();\r\n    }, this.options.fadeDuration * 1000);\r\n  }\r\n\r\n  private _updateDetails(): void {\r\n    // update the caption\r\n    if (typeof this.album[this.currentImageIndex].caption !== 'undefined' &&\r\n      this.album[this.currentImageIndex].caption !== '') {\r\n      this.ui.showCaption = true;\r\n    }\r\n\r\n    // update the page number if user choose to do so\r\n    // does not perform numbering the page if the\r\n    // array length in album <= 1\r\n    if (this.album.length > 1 && this.options.showImageNumberLabel) {\r\n      this.ui.showPageNumber = true;\r\n      this.content.pageNumber = this._albumLabel();\r\n    }\r\n  }\r\n\r\n  private _albumLabel(): string {\r\n    // due to {this.currentImageIndex} is set from 0 to {this.album.length} - 1\r\n    return this.options.albumLabel.replace(/%1/g, Number(this.currentImageIndex + 1)).replace(/%2/g, this.album.length);\r\n  }\r\n\r\n  private _changeImage(newIndex: number): void {\r\n    this._resetImage();\r\n    this.currentImageIndex = newIndex;\r\n    this._hideImage();\r\n    this._registerImageLoadingEvent();\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CHANGE_PAGE, data: newIndex });\r\n  }\r\n\r\n  private _hideImage(): void {\r\n    this.ui.showReloader = true;\r\n    this.ui.showArrowNav = false;\r\n    this.ui.showLeftArrow = false;\r\n    this.ui.showRightArrow = false;\r\n    this.ui.showPageNumber = false;\r\n    this.ui.showCaption = false;\r\n  }\r\n\r\n  private _updateNav(): void {\r\n    let alwaysShowNav = false;\r\n\r\n    // check to see the browser support touch event\r\n    try {\r\n      this._documentRef.createEvent('TouchEvent');\r\n      alwaysShowNav = (this.options.alwaysShowNavOnTouchDevices) ? true : false;\r\n    } catch (e) {\r\n      // noop\r\n    }\r\n\r\n    // initially show the arrow nav\r\n    // which is the parent of both left and right nav\r\n    this._showArrowNav();\r\n    if (this.album.length > 1) {\r\n      if (this.options.wrapAround) {\r\n        if (alwaysShowNav) {\r\n          // alternatives this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\r\n          this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\r\n          this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\r\n        }\r\n\r\n        // alternatives this.$lightbox.find('.lb-prev, .lb-next').show();\r\n        this._showLeftArrowNav();\r\n        this._showRightArrowNav();\r\n      } else {\r\n        if (this.currentImageIndex > 0) {\r\n          // alternatives this.$lightbox.find('.lb-prev').show();\r\n          this._showLeftArrowNav();\r\n          if (alwaysShowNav) {\r\n            // alternatives this.$lightbox.find('.lb-prev').css('opacity', '1');\r\n            this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\r\n          }\r\n        }\r\n\r\n        if (this.currentImageIndex < this.album.length - 1) {\r\n          // alternatives this.$lightbox.find('.lb-next').show();\r\n          this._showRightArrowNav();\r\n          if (alwaysShowNav) {\r\n            // alternatives this.$lightbox.find('.lb-next').css('opacity', '1');\r\n            this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private _showLeftArrowNav(): void {\r\n    this.ui.showLeftArrow = true;\r\n  }\r\n\r\n  private _showRightArrowNav(): void {\r\n    this.ui.showRightArrow = true;\r\n  }\r\n\r\n  private _showArrowNav(): void {\r\n    this.ui.showArrowNav = (this.album.length !== 1);\r\n  }\r\n\r\n  private _enableKeyboardNav(): void {\r\n    this._event.keyup = this._rendererRef.listen('document', 'keyup', (event: any) => {\r\n      this._keyboardAction(event);\r\n    });\r\n  }\r\n\r\n  private _disableKeyboardNav(): void {\r\n    if (this._event.keyup) {\r\n      this._event.keyup();\r\n    }\r\n  }\r\n\r\n  private _keyboardAction($event: any): void {\r\n    const KEYCODE_ESC = 27;\r\n    const KEYCODE_LEFTARROW = 37;\r\n    const KEYCODE_RIGHTARROW = 39;\r\n    const keycode = $event.keyCode;\r\n    const key = String.fromCharCode(keycode).toLowerCase();\r\n\r\n    if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n    } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\r\n      if (this.currentImageIndex !== 0) {\r\n        this._changeImage(this.currentImageIndex - 1);\r\n      } else if (this.options.wrapAround && this.album.length > 1) {\r\n        this._changeImage(this.album.length - 1);\r\n      }\r\n    } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\r\n      if (this.currentImageIndex !== this.album.length - 1) {\r\n        this._changeImage(this.currentImageIndex + 1);\r\n      } else if (this.options.wrapAround && this.album.length > 1) {\r\n        this._changeImage(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getCssStyleValue(elem: any, propertyName: string): number {\r\n    return parseFloat(this._windowRef\r\n      .getComputedStyle(elem.nativeElement, null)\r\n      .getPropertyValue(propertyName));\r\n  }\r\n\r\n  private _onReceivedEvent(event: IEvent): void {\r\n    switch (event.id) {\r\n      case LIGHTBOX_EVENT.CLOSE:\r\n        this._end();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  public needsIframe(src: string) {\r\n    // const sanitizedUrl = this._sanitizer.sanitize(SecurityContext.URL, src);\r\n    if (src.match(/\\.pdf$/)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { Subscription } from 'rxjs';\r\n\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport { IEvent, LIGHTBOX_EVENT, LightboxEvent } from './lightbox-event.service';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Component({\r\n  selector: '[lb-overlay]',\r\n  template: '',\r\n  host: {\r\n    '[class]': 'classList'\r\n  }\r\n})\r\nexport class LightboxOverlayComponent implements AfterViewInit, OnDestroy {\r\n  @Input() options: any;\r\n  @Input() cmpRef: any;\r\n  public classList;\r\n  private _subscription: Subscription;\r\n  constructor(\r\n    private _elemRef: ElementRef,\r\n    private _rendererRef: Renderer2,\r\n    private _lightboxEvent: LightboxEvent,\r\n    @Inject(DOCUMENT) private _documentRef,\r\n  ) {\r\n    this.classList = 'lightboxOverlay animation fadeInOverlay';\r\n    this._subscription = this._lightboxEvent.lightboxEvent$.subscribe((event: IEvent) => this._onReceivedEvent(event));\r\n  }\r\n\r\n  @HostListener('click')\r\n  public close(): void {\r\n    // broadcast to itself and all others subscriber including the components\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    const fadeDuration = this.options.fadeDuration;\r\n\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._sizeOverlay();\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onResize(): void {\r\n    this._sizeOverlay();\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._subscription.unsubscribe();\r\n  }\r\n\r\n  private _sizeOverlay(): void {\r\n    const width = this._getOverlayWidth();\r\n    const height = this._getOverlayHeight();\r\n\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement, 'width', `${width}px`);\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement, 'height', `${height}px`);\r\n  }\r\n\r\n  private _onReceivedEvent(event: IEvent): void {\r\n    switch (event.id) {\r\n      case LIGHTBOX_EVENT.CLOSE:\r\n        this._end();\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  private _end(): void {\r\n    this.classList = 'lightboxOverlay animation fadeOutOverlay';\r\n\r\n    // queue self destruction after the animation has finished\r\n    // FIXME: not sure if there is any way better than this\r\n    setTimeout(() => {\r\n      this.cmpRef.destroy();\r\n    }, this.options.fadeDuration * 1000);\r\n  }\r\n\r\n  private _getOverlayWidth(): number {\r\n    return Math.max(\r\n      this._documentRef.body.scrollWidth,\r\n      this._documentRef.body.offsetWidth,\r\n      this._documentRef.documentElement.clientWidth,\r\n      this._documentRef.documentElement.scrollWidth,\r\n      this._documentRef.documentElement.offsetWidth\r\n    );\r\n  }\r\n\r\n  private _getOverlayHeight(): number {\r\n    return Math.max(\r\n      this._documentRef.body.scrollHeight,\r\n      this._documentRef.body.offsetHeight,\r\n      this._documentRef.documentElement.clientHeight,\r\n      this._documentRef.documentElement.scrollHeight,\r\n      this._documentRef.documentElement.offsetHeight\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxConfig {\r\n  public fadeDuration: number;\r\n  public resizeDuration: number;\r\n  public fitImageInViewPort: boolean;\r\n  public positionFromTop: number;\r\n  public showImageNumberLabel: boolean;\r\n  public alwaysShowNavOnTouchDevices: boolean;\r\n  public wrapAround: boolean;\r\n  public disableKeyboardNav: boolean;\r\n  public disableScrolling: boolean;\r\n  public centerVertically: boolean;\r\n  public enableTransition: boolean;\r\n  public albumLabel: string;\r\n  public showZoom: boolean;\r\n  public showRotate: boolean;\r\n  public containerElementResolver: (document: any) => HTMLElement;\r\n\r\n  constructor() {\r\n    this.fadeDuration = 0.7;\r\n    this.resizeDuration = 0.5;\r\n    this.fitImageInViewPort = true;\r\n    this.positionFromTop = 20;\r\n    this.showImageNumberLabel = false;\r\n    this.alwaysShowNavOnTouchDevices = false;\r\n    this.wrapAround = false;\r\n    this.disableKeyboardNav = false;\r\n    this.disableScrolling = false;\r\n    this.centerVertically = false;\r\n    this.enableTransition = true;\r\n    this.albumLabel = 'Image %1 of %2';\r\n    this.showZoom = false;\r\n    this.showRotate = false;\r\n    this.containerElementResolver = (documentRef) => documentRef.querySelector('body');\r\n  }\r\n}\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Inject,\r\n  Injectable,\r\n  Injector\r\n} from '@angular/core';\r\nimport { LightboxComponent } from './lightbox.component';\r\nimport { LightboxConfig } from './lightbox-config.service';\r\nimport { LightboxEvent, LIGHTBOX_EVENT, IAlbum } from './lightbox-event.service';\r\nimport { LightboxOverlayComponent } from './lightbox-overlay.component';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Lightbox {\r\n  constructor(\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _injector: Injector,\r\n    private _applicationRef: ApplicationRef,\r\n    private _lightboxConfig: LightboxConfig,\r\n    private _lightboxEvent: LightboxEvent,\r\n    @Inject(DOCUMENT) private _documentRef\r\n  ) { }\r\n\r\n  open(album: Array<IAlbum>, curIndex = 0, options = {}): void {\r\n    const overlayComponentRef = this._createComponent(LightboxOverlayComponent);\r\n    const componentRef = this._createComponent(LightboxComponent);\r\n    const newOptions: Partial<LightboxConfig> = {};\r\n\r\n    // broadcast open event\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.OPEN });\r\n    Object.assign(newOptions, this._lightboxConfig, options);\r\n\r\n    // attach input to lightbox\r\n    componentRef.instance.album = album;\r\n    componentRef.instance.currentImageIndex = curIndex;\r\n    componentRef.instance.options = newOptions;\r\n    componentRef.instance.cmpRef = componentRef;\r\n\r\n    // attach input to overlay\r\n    overlayComponentRef.instance.options = newOptions;\r\n    overlayComponentRef.instance.cmpRef = overlayComponentRef;\r\n\r\n    // FIXME: not sure why last event is broadcasted (which is CLOSED) and make\r\n    // lightbox can not be opened the second time.\r\n    // Need to timeout so that the OPEN event is set before component is initialized\r\n    setTimeout(() => {\r\n      this._applicationRef.attachView(overlayComponentRef.hostView);\r\n      this._applicationRef.attachView(componentRef.hostView);\r\n      overlayComponentRef.onDestroy(() => {\r\n        this._applicationRef.detachView(overlayComponentRef.hostView);\r\n      });\r\n      componentRef.onDestroy(() => {\r\n        this._applicationRef.detachView(componentRef.hostView);\r\n      });\r\n\r\n      const containerElement = newOptions.containerElementResolver(this._documentRef);\r\n      containerElement.appendChild(overlayComponentRef.location.nativeElement);\r\n      containerElement.appendChild(componentRef.location.nativeElement);\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    if (this._lightboxEvent) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE });\r\n    }\r\n  }\r\n\r\n  _createComponent(ComponentClass: any): ComponentRef<any> {\r\n    const factory = this._componentFactoryResolver.resolveComponentFactory(ComponentClass);\r\n    const component = factory.create(this._injector);\r\n\r\n    return component;\r\n  }\r\n}\r\n","import { Lightbox } from './lightbox.service';\r\nimport {LightboxComponent, SafePipe} from './lightbox.component';\r\nimport { LightboxConfig } from './lightbox-config.service';\r\nimport { LightboxEvent, LightboxWindowRef } from './lightbox-event.service';\r\nimport { LightboxOverlayComponent } from './lightbox-overlay.component';\r\nimport { NgModule } from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [ CommonModule ],\r\n  declarations: [ LightboxOverlayComponent, LightboxComponent, SafePipe ],\r\n  providers: [\r\n    Lightbox,\r\n    LightboxConfig,\r\n    LightboxEvent,\r\n    LightboxWindowRef\r\n  ],\r\n  entryComponents: [ LightboxOverlayComponent, LightboxComponent ]\r\n})\r\nexport class LightboxModule { }\r\n"]}