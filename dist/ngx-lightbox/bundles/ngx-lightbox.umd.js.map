{"version":3,"file":"ngx-lightbox.umd.js","sources":["../../../projects/ngx-lightbox/src/lib/lightbox-event.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.component.html","../../../projects/ngx-lightbox/src/lib/lightbox.component.ts","../../../projects/ngx-lightbox/src/lib/lightbox-overlay.component.ts","../../../projects/ngx-lightbox/src/lib/lightbox-config.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.service.ts","../../../projects/ngx-lightbox/src/lib/lightbox.module.ts","../../../projects/ngx-lightbox/src/ngx-lightbox.ts"],"sourcesContent":["import { Observable, Subject } from 'rxjs';\r\n\r\nimport { Injectable} from '@angular/core';\r\n\r\nexport interface IEvent {\r\n  id: number;\r\n  data?: any;\r\n}\r\n\r\nexport interface IAlbum {\r\n  src: string;\r\n  caption?: string;\r\n  thumb: string;\r\n  iframe?: boolean;\r\n}\r\n\r\nexport const LIGHTBOX_EVENT = {\r\n  CHANGE_PAGE: 1,\r\n  CLOSE: 2,\r\n  OPEN: 3,\r\n  ZOOM_IN: 4,\r\n  ZOOM_OUT: 5,\r\n  ROTATE_LEFT: 6,\r\n  ROTATE_RIGHT: 7,\r\n  FILE_NOT_FOUND: 8\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxEvent {\r\n  private _lightboxEventSource: Subject<Object>;\r\n  public lightboxEvent$: Observable<Object>;\r\n  constructor() {\r\n    this._lightboxEventSource = new Subject<Object>();\r\n    this.lightboxEvent$ = this._lightboxEventSource.asObservable();\r\n  }\r\n\r\n  broadcastLightboxEvent(event: any): void {\r\n    this._lightboxEventSource.next(event);\r\n  }\r\n}\r\n\r\nfunction getWindow (): any {\r\n  return window;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxWindowRef {\r\n  get nativeWindow (): any {\r\n      return getWindow();\r\n  }\r\n}\r\n","<div class=\"lb-outerContainer transition\" #outerContainer id=\"outerContainer\">\r\n    <div class=\"lb-container\" #container id=\"container\">\r\n        <img class=\"lb-image\" id=\"image\" [src]=\"album[currentImageIndex].src\" class=\"lb-image animation fadeIn\"\r\n            [hidden]=\"ui.showReloader\" #image\r\n            *ngIf=\"!album[currentImageIndex].iframe && !needsIframe(album[currentImageIndex].src)\">\r\n        <iframe class=\"lb-image\" id=\"iframe\" [src]=\"album[currentImageIndex].src | safe\"\r\n            class=\"lb-image lb-iframe animation fadeIn\" [hidden]=\"ui.showReloader\" #iframe\r\n            *ngIf=\"album[currentImageIndex].iframe || needsIframe(album[currentImageIndex].src)\">\r\n        </iframe>\r\n        <div class=\"lb-nav\" [hidden]=\"!ui.showArrowNav\" #navArrow>\r\n            <a class=\"lb-prev\" [hidden]=\"!ui.showLeftArrow\" (click)=\"prevImage()\" #leftArrow></a>\r\n            <a class=\"lb-next\" [hidden]=\"!ui.showRightArrow\" (click)=\"nextImage()\" #rightArrow></a>\r\n        </div>\r\n        <div class=\"lb-loader\" [hidden]=\"!ui.showReloader\" (click)=\"close($event)\">\r\n            <a class=\"lb-cancel\"></a>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"lb-dataContainer\" [hidden]=\"ui.showReloader\" #dataContainer>\r\n    <div class=\"lb-data\">\r\n        <div class=\"lb-details\">\r\n            <span class=\"lb-caption animation fadeIn\" [hidden]=\"!ui.showCaption\"\r\n                [innerHtml]=\"album[currentImageIndex].caption\" #caption>\r\n            </span>\r\n            <span class=\"lb-number animation fadeIn\" [hidden]=\"!ui.showPageNumber\" #number>{{ content.pageNumber\r\n                }}</span>\r\n        </div>\r\n        <div class=\"lb-controlContainer\">\r\n            <div class=\"lb-closeContainer\">\r\n                <a class=\"lb-close\" (click)=\"close($event)\"></a>\r\n            </div>\r\n            <div class=\"lb-turnContainer\" [hidden]=\"!ui.showRotateButton\">\r\n                <a class=\"lb-turnLeft\" (click)=\"control($event)\"></a>\r\n                <a class=\"lb-turnRight\" (click)=\"control($event)\"></a>\r\n            </div>\r\n            <div class=\"lb-zoomContainer\" [hidden]=\"!ui.showZoomButton\">\r\n                <a class=\"lb-zoomOut\" (click)=\"control($event)\"></a>\r\n                <a class=\"lb-zoomIn\" (click)=\"control($event)\"></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import {DOCUMENT} from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit, Pipe, PipeTransform,\r\n  Renderer2,\r\n  SecurityContext,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\n\r\nimport {IAlbum, IEvent, LIGHTBOX_EVENT, LightboxEvent, LightboxWindowRef} from './lightbox-event.service';\r\n\r\n@Pipe({ name: 'safe' })\r\nexport class SafePipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: '[lb-content]',\r\n  host: {\r\n    '[class]': 'ui.classList'\r\n  },\r\n  templateUrl: \"./lightbox.component.html\",\r\n})\r\nexport class LightboxComponent implements OnInit, AfterViewInit, OnDestroy, OnInit {\r\n  @Input() album: Array<IAlbum>;\r\n  @Input() currentImageIndex: number;\r\n  @Input() options: any;\r\n  @Input() cmpRef: any;\r\n  @ViewChild('outerContainer') _outerContainerElem: ElementRef;\r\n  @ViewChild('container') _containerElem: ElementRef;\r\n  @ViewChild('leftArrow') _leftArrowElem: ElementRef;\r\n  @ViewChild('rightArrow') _rightArrowElem: ElementRef;\r\n  @ViewChild('navArrow') _navArrowElem: ElementRef;\r\n  @ViewChild('dataContainer') _dataContainerElem: ElementRef;\r\n  @ViewChild('image') _imageElem: ElementRef;\r\n  @ViewChild('iframe') _iframeElem: ElementRef;\r\n  @ViewChild('caption') _captionElem: ElementRef;\r\n  @ViewChild('number') _numberElem: ElementRef;\r\n  public content: any;\r\n  public ui: any;\r\n  private _cssValue: any;\r\n  private _event: any;\r\n  private _windowRef: any;\r\n  private rotate: number;\r\n  constructor(\r\n    private _elemRef: ElementRef,\r\n    private _rendererRef: Renderer2,\r\n    private _lightboxEvent: LightboxEvent,\r\n    public _lightboxElem: ElementRef,\r\n    private _lightboxWindowRef: LightboxWindowRef,\r\n    private _sanitizer: DomSanitizer,\r\n    @Inject(DOCUMENT) private _documentRef\r\n  ) {\r\n    // initialize data\r\n    this.options = this.options || {};\r\n    this.album = this.album || [];\r\n    this.currentImageIndex = this.currentImageIndex || 0;\r\n    this._windowRef = this._lightboxWindowRef.nativeWindow;\r\n\r\n    // control the interactive of the directive\r\n    this.ui = {\r\n      // control the appear of the reloader\r\n      // false: image has loaded completely and ready to be shown\r\n      // true: image is still loading\r\n      showReloader: true,\r\n\r\n      // control the appear of the nav arrow\r\n      // the arrowNav is the parent of both left and right arrow\r\n      // in some cases, the parent shows but the child does not show\r\n      showLeftArrow: false,\r\n      showRightArrow: false,\r\n      showArrowNav: false,\r\n\r\n      // control the appear of the zoom and rotate buttons\r\n      showZoomButton: false,\r\n      showRotateButton: false,\r\n\r\n      // control whether to show the\r\n      // page number or not\r\n      showPageNumber: false,\r\n      showCaption: false,\r\n      classList: 'lightbox animation fadeIn'\r\n    };\r\n\r\n    this.content = {\r\n      pageNumber: ''\r\n    };\r\n\r\n    this._event = {};\r\n    this._lightboxElem = this._elemRef;\r\n    this._event.subscription = this._lightboxEvent.lightboxEvent$\r\n      .subscribe((event: IEvent) => this._onReceivedEvent(event));\r\n    this.rotate = 0;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.album.forEach(album => {\r\n      if (album.caption) {\r\n        album.caption = this._sanitizer.sanitize(SecurityContext.HTML, album.caption);\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    // need to init css value here, after the view ready\r\n    // actually these values are always 0\r\n    this._cssValue = {\r\n      containerTopPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-top')),\r\n      containerRightPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-right')),\r\n      containerBottomPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-bottom')),\r\n      containerLeftPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-left')),\r\n      imageBorderWidthTop: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-top-width')),\r\n      imageBorderWidthBottom: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-bottom-width')),\r\n      imageBorderWidthLeft: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-left-width')),\r\n      imageBorderWidthRight: Math.round(this._getCssStyleValue(this._imageElem || this._iframeElem, 'border-right-width'))\r\n    };\r\n\r\n    if (this._validateInputData()) {\r\n      this._prepareComponent();\r\n      this._registerImageLoadingEvent();\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    if (!this.options.disableKeyboardNav) {\r\n      // unbind keyboard event\r\n      this._disableKeyboardNav();\r\n    }\r\n\r\n    this._event.subscription.unsubscribe();\r\n  }\r\n\r\n  @HostListener('close', ['$event'])\r\n  public close($event: any): void {\r\n    $event.stopPropagation();\r\n    if ($event.target.classList.contains('lightbox') ||\r\n      $event.target.classList.contains('lb-loader') ||\r\n      $event.target.classList.contains('lb-close')) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n    }\r\n  }\r\n\r\n  public control($event: any): void {\r\n    $event.stopPropagation();\r\n    let height: number;\r\n    let width: number;\r\n    if ($event.target.classList.contains('lb-turnLeft')) {\r\n      this.rotate = this.rotate - 90;\r\n      this._rotateContainer();\r\n      this._calcTransformPoint();\r\n      this._documentRef.getElementById('image').style.transform = `rotate(${this.rotate}deg)`;\r\n      this._documentRef.getElementById('image').style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ROTATE_LEFT, data: null });\r\n    } else if ($event.target.classList.contains('lb-turnRight')) {\r\n      this.rotate = this.rotate + 90;\r\n      this._rotateContainer();\r\n      this._calcTransformPoint();\r\n      this._documentRef.getElementById('image').style.transform = `rotate(${this.rotate}deg)`;\r\n      this._documentRef.getElementById('image').style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ROTATE_RIGHT, data: null });\r\n    } else if ($event.target.classList.contains('lb-zoomOut')) {\r\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) / 1.5;\r\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) / 1.5;\r\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\r\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\r\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) / 1.5;\r\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) / 1.5;\r\n      this._documentRef.getElementById('image').style.height = height + 'px';\r\n      this._documentRef.getElementById('image').style.width = width + 'px';\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ZOOM_OUT, data: null });\r\n    } else if ($event.target.classList.contains('lb-zoomIn')) {\r\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) * 1.5;\r\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) * 1.5;\r\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\r\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\r\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) * 1.5;\r\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) * 1.5;\r\n      this._documentRef.getElementById('image').style.height = height + 'px';\r\n      this._documentRef.getElementById('image').style.width = width + 'px';\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.ZOOM_IN, data: null });\r\n    }\r\n  }\r\n\r\n  private _rotateContainer(): void {\r\n    let temp = this.rotate;\r\n    if (temp < 0) {\r\n      temp *= -1;\r\n    }\r\n    if (temp / 90 % 4 === 1 || temp / 90 % 4 === 3) {\r\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.height;\r\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\r\n    } else {\r\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.height;\r\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\r\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\r\n    }\r\n  }\r\n\r\n  private _resetImage(): void {\r\n    this.rotate = 0;\r\n    const image = this._documentRef.getElementById('image');\r\n    if (image) {\r\n      image.style.transform = `rotate(${this.rotate}deg)`;\r\n      image.style.webkitTransform = `rotate(${this.rotate}deg)`;\r\n    }\r\n\r\n  }\r\n\r\n  private _calcTransformPoint(): void {\r\n    let height = parseInt(this._documentRef.getElementById('image').style.height, 10);\r\n    let width = parseInt(this._documentRef.getElementById('image').style.width, 10);\r\n    let temp = this.rotate % 360;\r\n    if (temp < 0) {\r\n      temp = 360 + temp;\r\n    }\r\n    if (temp === 90) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (height / 2) + 'px ' + (height / 2) + 'px';\r\n    } else if (temp === 180) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (height / 2) + 'px';\r\n } else if (temp === 270) {\r\n      this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (width / 2) + 'px';\r\n }\r\n  }\r\n\r\n  public nextImage(): void {\r\n    if (this.album.length === 1) {\r\n      return;\r\n    } else if (this.currentImageIndex === this.album.length - 1) {\r\n      this._changeImage(0);\r\n    } else {\r\n      this._changeImage(this.currentImageIndex + 1);\r\n    }\r\n  }\r\n\r\n  public prevImage(): void {\r\n    if (this.album.length === 1) {\r\n      return;\r\n    } else if (this.currentImageIndex === 0 && this.album.length > 1) {\r\n      this._changeImage(this.album.length - 1);\r\n    } else {\r\n      this._changeImage(this.currentImageIndex - 1);\r\n    }\r\n  }\r\n\r\n  private _validateInputData(): boolean {\r\n    if (this.album &&\r\n      this.album instanceof Array &&\r\n      this.album.length > 0) {\r\n      for (let i = 0; i < this.album.length; i++) {\r\n        // check whether each _nside\r\n        // album has src data or not\r\n        if (this.album[i].src) {\r\n          continue;\r\n        }\r\n\r\n        throw new Error('One of the album data does not have source data');\r\n      }\r\n    } else {\r\n      throw new Error('No album data or album data is not correct in type');\r\n    }\r\n\r\n    // to prevent data understand as string\r\n    // convert it to number\r\n    if (isNaN(this.currentImageIndex)) {\r\n      throw new Error('Current image index is not a number');\r\n    } else {\r\n      this.currentImageIndex = Number(this.currentImageIndex);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private _registerImageLoadingEvent(): void {\r\n    const src: any = this.album[this.currentImageIndex].src;\r\n\r\n    if (this.album[this.currentImageIndex].iframe || this.needsIframe(src)) {\r\n      setTimeout( () => {\r\n        this._onLoadImageSuccess();\r\n      });\r\n      return;\r\n    }\r\n\r\n    const preloader = new Image();\r\n\r\n    preloader.onload = () => {\r\n      this._onLoadImageSuccess();\r\n    }\r\n\r\n    preloader.onerror = (e) => {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.FILE_NOT_FOUND, data: e });\r\n    }\r\n\r\n    preloader.src = this._sanitizer.sanitize(SecurityContext.URL, src);\r\n  }\r\n\r\n  /**\r\n   * Fire when the image is loaded\r\n   */\r\n  private _onLoadImageSuccess(): void {\r\n    if (!this.options.disableKeyboardNav) {\r\n      // unbind keyboard event during transition\r\n      this._disableKeyboardNav();\r\n    }\r\n\r\n    let imageHeight;\r\n    let imageWidth;\r\n    let maxImageHeight;\r\n    let maxImageWidth;\r\n    let windowHeight;\r\n    let windowWidth;\r\n    let naturalImageWidth;\r\n    let naturalImageHeight;\r\n\r\n    // set default width and height of image to be its natural\r\n    imageWidth = naturalImageWidth = this._imageElem ? this._imageElem.nativeElement.naturalWidth : this._windowRef.innerWidth * .8;\r\n    imageHeight = naturalImageHeight = this._imageElem ? this._imageElem.nativeElement.naturalHeight : this._windowRef.innerHeight * .8;\r\n    if (this.options.fitImageInViewPort) {\r\n      windowWidth = this._windowRef.innerWidth;\r\n      windowHeight = this._windowRef.innerHeight;\r\n      maxImageWidth = windowWidth - this._cssValue.containerLeftPadding -\r\n        this._cssValue.containerRightPadding - this._cssValue.imageBorderWidthLeft -\r\n        this._cssValue.imageBorderWidthRight - 20;\r\n      maxImageHeight = windowHeight - this._cssValue.containerTopPadding -\r\n        this._cssValue.containerTopPadding - this._cssValue.imageBorderWidthTop -\r\n        this._cssValue.imageBorderWidthBottom - 120;\r\n      if (naturalImageWidth > maxImageWidth || naturalImageHeight > maxImageHeight) {\r\n        if ((naturalImageWidth / maxImageWidth) > (naturalImageHeight / maxImageHeight)) {\r\n          imageWidth = maxImageWidth;\r\n          imageHeight = Math.round(naturalImageHeight / (naturalImageWidth / imageWidth));\r\n        } else {\r\n          imageHeight = maxImageHeight;\r\n          imageWidth = Math.round(naturalImageWidth / (naturalImageHeight / imageHeight));\r\n        }\r\n      }\r\n\r\n      this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement, 'width', `${imageWidth}px`);\r\n      this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement, 'height', `${imageHeight}px`);\r\n    }\r\n\r\n    this._sizeContainer(imageWidth, imageHeight);\r\n\r\n    if (this.options.centerVertically) {\r\n      this._centerVertically(imageWidth, imageHeight);\r\n    }\r\n  }\r\n\r\n  private _centerVertically(imageWidth: number, imageHeight: number): void {\r\n    const scrollOffset = this._documentRef.documentElement.scrollTop;\r\n    const windowHeight = this._windowRef.innerHeight;\r\n\r\n    const viewOffset = windowHeight / 2 - imageHeight / 2;\r\n    const topDistance = scrollOffset + viewOffset;\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', `${topDistance}px`);\r\n  }\r\n\r\n  private _sizeContainer(imageWidth: number, imageHeight: number): void {\r\n    const oldWidth = this._outerContainerElem.nativeElement.offsetWidth;\r\n    const oldHeight = this._outerContainerElem.nativeElement.offsetHeight;\r\n    const newWidth = imageWidth + this._cssValue.containerRightPadding + this._cssValue.containerLeftPadding +\r\n      this._cssValue.imageBorderWidthLeft + this._cssValue.imageBorderWidthRight;\r\n    const newHeight = imageHeight + this._cssValue.containerTopPadding + this._cssValue.containerBottomPadding +\r\n      this._cssValue.imageBorderWidthTop + this._cssValue.imageBorderWidthBottom;\r\n\r\n    // make sure that distances are large enough for transitionend event to be fired, at least 5px.\r\n    if (Math.abs(oldWidth - newWidth) + Math.abs(oldHeight - newHeight) > 5) {\r\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'width', `${newWidth}px`);\r\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'height', `${newHeight}px`);\r\n\r\n      // bind resize event to outer container\r\n      // use enableTransition to prevent infinite loader\r\n      if (this.options.enableTransition) {\r\n        this._event.transitions = [];\r\n        ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'MSTransitionEnd'].forEach(eventName => {\r\n          this._event.transitions.push(\r\n            this._rendererRef.listen(this._outerContainerElem.nativeElement, eventName, (event: any) => {\r\n              if (event.target === event.currentTarget) {\r\n                this._postResize(newWidth, newHeight);\r\n              }\r\n            })\r\n          );\r\n        });\r\n      } else {\r\n        this._postResize(newWidth, newHeight);\r\n      }\r\n    } else {\r\n      this._postResize(newWidth, newHeight);\r\n    }\r\n  }\r\n\r\n  private _postResize(newWidth: number, newHeight: number): void {\r\n    // unbind resize event\r\n    if (Array.isArray(this._event.transitions)) {\r\n      this._event.transitions.forEach((eventHandler: any) => {\r\n        eventHandler();\r\n      });\r\n\r\n      this._event.transitions = [];\r\n    }\r\n\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'width', `${newWidth}px`);\r\n    this._showImage();\r\n  }\r\n\r\n  private _showImage(): void {\r\n    this.ui.showReloader = false;\r\n    this._updateNav();\r\n    this._updateDetails();\r\n    if (!this.options.disableKeyboardNav) {\r\n      this._enableKeyboardNav();\r\n    }\r\n  }\r\n\r\n  private _prepareComponent(): void {\r\n    // add css3 animation\r\n    this._addCssAnimation();\r\n\r\n    // position the image according to user's option\r\n    this._positionLightBox();\r\n\r\n    // update controls visibility on next view generation\r\n    setTimeout(() => {\r\n      this.ui.showZoomButton = this.options.showZoom;\r\n      this.ui.showRotateButton = this.options.showRotate;\r\n    }, 0);\r\n  }\r\n\r\n  private _positionLightBox(): void {\r\n    // @see https://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\r\n    const top = (this._windowRef.pageYOffset || this._documentRef.documentElement.scrollTop) +\r\n      this.options.positionFromTop;\r\n    const left = this._windowRef.pageXOffset || this._documentRef.documentElement.scrollLeft;\r\n\r\n    if (!this.options.centerVertically) {\r\n      this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', `${top}px`);\r\n    }\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'left', `${left}px`);\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'display', 'block');\r\n\r\n    // disable scrolling of the page while open\r\n    if (this.options.disableScrolling) {\r\n      this._rendererRef.addClass(this._documentRef.documentElement, 'lb-disable-scrolling');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * addCssAnimation add css3 classes for animate lightbox\r\n   */\r\n  private _addCssAnimation(): void {\r\n    const resizeDuration = this.options.resizeDuration;\r\n    const fadeDuration = this.options.fadeDuration;\r\n\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement,\r\n      '-webkit-transition-duration', `${resizeDuration}s`);\r\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement,\r\n      'transition-duration', `${resizeDuration}s`);\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle((this._imageElem || this._iframeElem).nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._captionElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._captionElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._numberElem.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._numberElem.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n  }\r\n\r\n  private _end(): void {\r\n    this.ui.classList = 'lightbox animation fadeOut';\r\n    if (this.options.disableScrolling) {\r\n      this._rendererRef.removeClass(this._documentRef.documentElement, 'lb-disable-scrolling');\r\n    }\r\n    setTimeout(() => {\r\n      this.cmpRef.destroy();\r\n    }, this.options.fadeDuration * 1000);\r\n  }\r\n\r\n  private _updateDetails(): void {\r\n    // update the caption\r\n    if (typeof this.album[this.currentImageIndex].caption !== 'undefined' &&\r\n      this.album[this.currentImageIndex].caption !== '') {\r\n      this.ui.showCaption = true;\r\n    }\r\n\r\n    // update the page number if user choose to do so\r\n    // does not perform numbering the page if the\r\n    // array length in album <= 1\r\n    if (this.album.length > 1 && this.options.showImageNumberLabel) {\r\n      this.ui.showPageNumber = true;\r\n      this.content.pageNumber = this._albumLabel();\r\n    }\r\n  }\r\n\r\n  private _albumLabel(): string {\r\n    // due to {this.currentImageIndex} is set from 0 to {this.album.length} - 1\r\n    return this.options.albumLabel.replace(/%1/g, Number(this.currentImageIndex + 1)).replace(/%2/g, this.album.length);\r\n  }\r\n\r\n  private _changeImage(newIndex: number): void {\r\n    this._resetImage();\r\n    this.currentImageIndex = newIndex;\r\n    this._hideImage();\r\n    this._registerImageLoadingEvent();\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CHANGE_PAGE, data: newIndex });\r\n  }\r\n\r\n  private _hideImage(): void {\r\n    this.ui.showReloader = true;\r\n    this.ui.showArrowNav = false;\r\n    this.ui.showLeftArrow = false;\r\n    this.ui.showRightArrow = false;\r\n    this.ui.showPageNumber = false;\r\n    this.ui.showCaption = false;\r\n  }\r\n\r\n  private _updateNav(): void {\r\n    let alwaysShowNav = false;\r\n\r\n    // check to see the browser support touch event\r\n    try {\r\n      this._documentRef.createEvent('TouchEvent');\r\n      alwaysShowNav = (this.options.alwaysShowNavOnTouchDevices) ? true : false;\r\n    } catch (e) {\r\n      // noop\r\n    }\r\n\r\n    // initially show the arrow nav\r\n    // which is the parent of both left and right nav\r\n    this._showArrowNav();\r\n    if (this.album.length > 1) {\r\n      if (this.options.wrapAround) {\r\n        if (alwaysShowNav) {\r\n          // alternatives this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\r\n          this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\r\n          this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\r\n        }\r\n\r\n        // alternatives this.$lightbox.find('.lb-prev, .lb-next').show();\r\n        this._showLeftArrowNav();\r\n        this._showRightArrowNav();\r\n      } else {\r\n        if (this.currentImageIndex > 0) {\r\n          // alternatives this.$lightbox.find('.lb-prev').show();\r\n          this._showLeftArrowNav();\r\n          if (alwaysShowNav) {\r\n            // alternatives this.$lightbox.find('.lb-prev').css('opacity', '1');\r\n            this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\r\n          }\r\n        }\r\n\r\n        if (this.currentImageIndex < this.album.length - 1) {\r\n          // alternatives this.$lightbox.find('.lb-next').show();\r\n          this._showRightArrowNav();\r\n          if (alwaysShowNav) {\r\n            // alternatives this.$lightbox.find('.lb-next').css('opacity', '1');\r\n            this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private _showLeftArrowNav(): void {\r\n    this.ui.showLeftArrow = true;\r\n  }\r\n\r\n  private _showRightArrowNav(): void {\r\n    this.ui.showRightArrow = true;\r\n  }\r\n\r\n  private _showArrowNav(): void {\r\n    this.ui.showArrowNav = (this.album.length !== 1);\r\n  }\r\n\r\n  private _enableKeyboardNav(): void {\r\n    this._event.keyup = this._rendererRef.listen('document', 'keyup', (event: any) => {\r\n      this._keyboardAction(event);\r\n    });\r\n  }\r\n\r\n  private _disableKeyboardNav(): void {\r\n    if (this._event.keyup) {\r\n      this._event.keyup();\r\n    }\r\n  }\r\n\r\n  private _keyboardAction($event: any): void {\r\n    const KEYCODE_ESC = 27;\r\n    const KEYCODE_LEFTARROW = 37;\r\n    const KEYCODE_RIGHTARROW = 39;\r\n    const keycode = $event.keyCode;\r\n    const key = String.fromCharCode(keycode).toLowerCase();\r\n\r\n    if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n    } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\r\n      if (this.currentImageIndex !== 0) {\r\n        this._changeImage(this.currentImageIndex - 1);\r\n      } else if (this.options.wrapAround && this.album.length > 1) {\r\n        this._changeImage(this.album.length - 1);\r\n      }\r\n    } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\r\n      if (this.currentImageIndex !== this.album.length - 1) {\r\n        this._changeImage(this.currentImageIndex + 1);\r\n      } else if (this.options.wrapAround && this.album.length > 1) {\r\n        this._changeImage(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getCssStyleValue(elem: any, propertyName: string): number {\r\n    return parseFloat(this._windowRef\r\n      .getComputedStyle(elem.nativeElement, null)\r\n      .getPropertyValue(propertyName));\r\n  }\r\n\r\n  private _onReceivedEvent(event: IEvent): void {\r\n    switch (event.id) {\r\n      case LIGHTBOX_EVENT.CLOSE:\r\n        this._end();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  public needsIframe(src: string) {\r\n    // const sanitizedUrl = this._sanitizer.sanitize(SecurityContext.URL, src);\r\n    if (src.match(/\\.pdf$/)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { Subscription } from 'rxjs';\r\n\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport { IEvent, LIGHTBOX_EVENT, LightboxEvent } from './lightbox-event.service';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Component({\r\n  selector: '[lb-overlay]',\r\n  template: '',\r\n  host: {\r\n    '[class]': 'classList'\r\n  }\r\n})\r\nexport class LightboxOverlayComponent implements AfterViewInit, OnDestroy {\r\n  @Input() options: any;\r\n  @Input() cmpRef: any;\r\n  public classList;\r\n  private _subscription: Subscription;\r\n  constructor(\r\n    private _elemRef: ElementRef,\r\n    private _rendererRef: Renderer2,\r\n    private _lightboxEvent: LightboxEvent,\r\n    @Inject(DOCUMENT) private _documentRef,\r\n  ) {\r\n    this.classList = 'lightboxOverlay animation fadeInOverlay';\r\n    this._subscription = this._lightboxEvent.lightboxEvent$.subscribe((event: IEvent) => this._onReceivedEvent(event));\r\n  }\r\n\r\n  @HostListener('click')\r\n  public close(): void {\r\n    // broadcast to itself and all others subscriber including the components\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE, data: null });\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    const fadeDuration = this.options.fadeDuration;\r\n\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement,\r\n      '-webkit-animation-duration', `${fadeDuration}s`);\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement,\r\n      'animation-duration', `${fadeDuration}s`);\r\n    this._sizeOverlay();\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onResize(): void {\r\n    this._sizeOverlay();\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._subscription.unsubscribe();\r\n  }\r\n\r\n  private _sizeOverlay(): void {\r\n    const width = this._getOverlayWidth();\r\n    const height = this._getOverlayHeight();\r\n\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement, 'width', `${width}px`);\r\n    this._rendererRef.setStyle(this._elemRef.nativeElement, 'height', `${height}px`);\r\n  }\r\n\r\n  private _onReceivedEvent(event: IEvent): void {\r\n    switch (event.id) {\r\n      case LIGHTBOX_EVENT.CLOSE:\r\n        this._end();\r\n      break;\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  private _end(): void {\r\n    this.classList = 'lightboxOverlay animation fadeOutOverlay';\r\n\r\n    // queue self destruction after the animation has finished\r\n    // FIXME: not sure if there is any way better than this\r\n    setTimeout(() => {\r\n      this.cmpRef.destroy();\r\n    }, this.options.fadeDuration * 1000);\r\n  }\r\n\r\n  private _getOverlayWidth(): number {\r\n    return Math.max(\r\n      this._documentRef.body.scrollWidth,\r\n      this._documentRef.body.offsetWidth,\r\n      this._documentRef.documentElement.clientWidth,\r\n      this._documentRef.documentElement.scrollWidth,\r\n      this._documentRef.documentElement.offsetWidth\r\n    );\r\n  }\r\n\r\n  private _getOverlayHeight(): number {\r\n    return Math.max(\r\n      this._documentRef.body.scrollHeight,\r\n      this._documentRef.body.offsetHeight,\r\n      this._documentRef.documentElement.clientHeight,\r\n      this._documentRef.documentElement.scrollHeight,\r\n      this._documentRef.documentElement.offsetHeight\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LightboxConfig {\r\n  public fadeDuration: number;\r\n  public resizeDuration: number;\r\n  public fitImageInViewPort: boolean;\r\n  public positionFromTop: number;\r\n  public showImageNumberLabel: boolean;\r\n  public alwaysShowNavOnTouchDevices: boolean;\r\n  public wrapAround: boolean;\r\n  public disableKeyboardNav: boolean;\r\n  public disableScrolling: boolean;\r\n  public centerVertically: boolean;\r\n  public enableTransition: boolean;\r\n  public albumLabel: string;\r\n  public showZoom: boolean;\r\n  public showRotate: boolean;\r\n  public containerElementResolver: (document: any) => HTMLElement;\r\n\r\n  constructor() {\r\n    this.fadeDuration = 0.7;\r\n    this.resizeDuration = 0.5;\r\n    this.fitImageInViewPort = true;\r\n    this.positionFromTop = 20;\r\n    this.showImageNumberLabel = false;\r\n    this.alwaysShowNavOnTouchDevices = false;\r\n    this.wrapAround = false;\r\n    this.disableKeyboardNav = false;\r\n    this.disableScrolling = false;\r\n    this.centerVertically = false;\r\n    this.enableTransition = true;\r\n    this.albumLabel = 'Image %1 of %2';\r\n    this.showZoom = false;\r\n    this.showRotate = false;\r\n    this.containerElementResolver = (documentRef) => documentRef.querySelector('body');\r\n  }\r\n}\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Inject,\r\n  Injectable,\r\n  Injector\r\n} from '@angular/core';\r\nimport { LightboxComponent } from './lightbox.component';\r\nimport { LightboxConfig } from './lightbox-config.service';\r\nimport { LightboxEvent, LIGHTBOX_EVENT, IAlbum } from './lightbox-event.service';\r\nimport { LightboxOverlayComponent } from './lightbox-overlay.component';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Lightbox {\r\n  constructor(\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _injector: Injector,\r\n    private _applicationRef: ApplicationRef,\r\n    private _lightboxConfig: LightboxConfig,\r\n    private _lightboxEvent: LightboxEvent,\r\n    @Inject(DOCUMENT) private _documentRef\r\n  ) { }\r\n\r\n  open(album: Array<IAlbum>, curIndex = 0, options = {}): void {\r\n    const overlayComponentRef = this._createComponent(LightboxOverlayComponent);\r\n    const componentRef = this._createComponent(LightboxComponent);\r\n    const newOptions: Partial<LightboxConfig> = {};\r\n\r\n    // broadcast open event\r\n    this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.OPEN });\r\n    Object.assign(newOptions, this._lightboxConfig, options);\r\n\r\n    // attach input to lightbox\r\n    componentRef.instance.album = album;\r\n    componentRef.instance.currentImageIndex = curIndex;\r\n    componentRef.instance.options = newOptions;\r\n    componentRef.instance.cmpRef = componentRef;\r\n\r\n    // attach input to overlay\r\n    overlayComponentRef.instance.options = newOptions;\r\n    overlayComponentRef.instance.cmpRef = overlayComponentRef;\r\n\r\n    // FIXME: not sure why last event is broadcasted (which is CLOSED) and make\r\n    // lightbox can not be opened the second time.\r\n    // Need to timeout so that the OPEN event is set before component is initialized\r\n    setTimeout(() => {\r\n      this._applicationRef.attachView(overlayComponentRef.hostView);\r\n      this._applicationRef.attachView(componentRef.hostView);\r\n      overlayComponentRef.onDestroy(() => {\r\n        this._applicationRef.detachView(overlayComponentRef.hostView);\r\n      });\r\n      componentRef.onDestroy(() => {\r\n        this._applicationRef.detachView(componentRef.hostView);\r\n      });\r\n\r\n      const containerElement = newOptions.containerElementResolver(this._documentRef);\r\n      containerElement.appendChild(overlayComponentRef.location.nativeElement);\r\n      containerElement.appendChild(componentRef.location.nativeElement);\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    if (this._lightboxEvent) {\r\n      this._lightboxEvent.broadcastLightboxEvent({ id: LIGHTBOX_EVENT.CLOSE });\r\n    }\r\n  }\r\n\r\n  _createComponent(ComponentClass: any): ComponentRef<any> {\r\n    const factory = this._componentFactoryResolver.resolveComponentFactory(ComponentClass);\r\n    const component = factory.create(this._injector);\r\n\r\n    return component;\r\n  }\r\n}\r\n","import { Lightbox } from './lightbox.service';\r\nimport {LightboxComponent, SafePipe} from './lightbox.component';\r\nimport { LightboxConfig } from './lightbox-config.service';\r\nimport { LightboxEvent, LightboxWindowRef } from './lightbox-event.service';\r\nimport { LightboxOverlayComponent } from './lightbox-overlay.component';\r\nimport { NgModule } from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [ CommonModule ],\r\n  declarations: [ LightboxOverlayComponent, LightboxComponent, SafePipe ],\r\n  providers: [\r\n    Lightbox,\r\n    LightboxConfig,\r\n    LightboxEvent,\r\n    LightboxWindowRef\r\n  ],\r\n  entryComponents: [ LightboxOverlayComponent, LightboxComponent ]\r\n})\r\nexport class LightboxModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Subject","Injectable","i0","i1","Pipe","SecurityContext","DOCUMENT","Component","Inject","Input","ViewChild","HostListener","CommonModule","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBa,QAAA,cAAc,GAAG;IAC5B,IAAA,WAAW,EAAE,CAAC;IACd,IAAA,KAAK,EAAE,CAAC;IACR,IAAA,IAAI,EAAE,CAAC;IACP,IAAA,OAAO,EAAE,CAAC;IACV,IAAA,QAAQ,EAAE,CAAC;IACX,IAAA,WAAW,EAAE,CAAC;IACd,IAAA,YAAY,EAAE,CAAC;IACf,IAAA,cAAc,EAAE,CAAC;MACjB;AAKF,QAAA,aAAA,kBAAA,YAAA;IAGE,IAAA,SAAA,aAAA,GAAA;IACE,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAIA,YAAO,EAAU,CAAC;YAClD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,CAAC;SAChE;QAED,aAAsB,CAAA,SAAA,CAAA,sBAAA,GAAtB,UAAuB,KAAU,EAAA;IAC/B,QAAA,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvC,CAAA;;;8EAVU,aAAa,GAAA,CAAA,EAAA,CAAA;kFAAb,aAAa,EAAA,OAAA,EAAb,aAAa,CAAA,IAAA,EAAA,UAAA,EAFZ,MAAM,EAAA,CAAA,CAAA;;2FAEP,aAAa,EAAA,CAAA;sBAHzBC,aAAU;IAAC,YAAA,IAAA,EAAA,CAAA;IACV,oBAAA,UAAU,EAAE,MAAM;qBACnB,CAAA;;;IAcD,SAAS,SAAS,GAAA;IAChB,IAAA,OAAO,MAAM,CAAC;IAChB,CAAC;AAKD,QAAA,iBAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,iBAAA,GAAA;;IACE,IAAA,MAAA,CAAA,cAAA,CAAI,iBAAY,CAAA,SAAA,EAAA,cAAA,EAAA;IAAhB,QAAA,GAAA,EAAA,YAAA;gBACI,OAAO,SAAS,EAAE,CAAC;aACtB;;;IAAA,KAAA,CAAA,CAAA;;;sFAHU,iBAAiB,GAAA,CAAA,EAAA,CAAA;sFAAjB,iBAAiB,EAAA,OAAA,EAAjB,iBAAiB,CAAA,IAAA,EAAA,UAAA,EAFhB,MAAM,EAAA,CAAA,CAAA;;2FAEP,iBAAiB,EAAA,CAAA;sBAH7BA,aAAU;IAAC,YAAA,IAAA,EAAA,CAAA;IACV,oBAAA,UAAU,EAAE,MAAM;qBACnB,CAAA;;;;;;;;;;;;;;;;;YC/COC,aAE2F,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;;;;IAF1D,QAAAA,aAAA,CAAA,UAAA,CAAA,KAAA,EAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,iBAAA,CAAA,CAAA,GAAA,EAAAA,aAAA,CAAA,aAAA,CAAoC,CAAA,QAAA,EAAA,MAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;;;;;YAGrEA,aAGS,CAAA,SAAA,CAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;;;;;IAH4B,QAAAA,aAAA,CAAA,UAAA,CAAA,KAAA,EAAAA,aAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,iBAAA,CAAA,CAAA,GAAA,CAAA,EAAAA,aAAA,CAAA,qBAAA,CAA2C,CAAA,QAAA,EAAA,MAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;;;ICcxF,IAAA,QAAA,kBAAA,YAAA;IACE,IAAA,SAAA,QAAA,CAAoB,SAAuB,EAAA;IAAvB,QAAA,IAAS,CAAA,SAAA,GAAT,SAAS,CAAc;SAAI;QAC/C,QAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,GAAG,EAAA;YACX,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;SAC3D,CAAA;;;oEAJU,QAAQ,EAAAA,aAAA,CAAA,iBAAA,CAAAC,aAAA,CAAA,YAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA;oFAAR,QAAQ,EAAA,IAAA,EAAA,IAAA,EAAA,CAAA,CAAA;;2FAAR,QAAQ,EAAA,CAAA;sBADpBC,OAAI;uBAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAA;;;IAetB,IAAA,iBAAA,kBAAA,YAAA;IAqBE,IAAA,SAAA,iBAAA,CACU,QAAoB,EACpB,YAAuB,EACvB,cAA6B,EAC9B,aAAyB,EACxB,kBAAqC,EACrC,UAAwB,EACN,YAAY,EAAA;YAPxC,IAiDC,KAAA,GAAA,IAAA,CAAA;IAhDS,QAAA,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;IACpB,QAAA,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAW;IACvB,QAAA,IAAc,CAAA,cAAA,GAAd,cAAc,CAAe;IAC9B,QAAA,IAAa,CAAA,aAAA,GAAb,aAAa,CAAY;IACxB,QAAA,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB,CAAmB;IACrC,QAAA,IAAU,CAAA,UAAA,GAAV,UAAU,CAAc;IACN,QAAA,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAA;;YAGtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;YAClC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;YAC9B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,IAAI,CAAC,CAAC;YACrD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;;YAGvD,IAAI,CAAC,EAAE,GAAG;;;;IAIR,YAAA,YAAY,EAAE,IAAI;;;;IAKlB,YAAA,aAAa,EAAE,KAAK;IACpB,YAAA,cAAc,EAAE,KAAK;IACrB,YAAA,YAAY,EAAE,KAAK;;IAGnB,YAAA,cAAc,EAAE,KAAK;IACrB,YAAA,gBAAgB,EAAE,KAAK;;;IAIvB,YAAA,cAAc,EAAE,KAAK;IACrB,YAAA,WAAW,EAAE,KAAK;IAClB,YAAA,SAAS,EAAE,2BAA2B;aACvC,CAAC;YAEF,IAAI,CAAC,OAAO,GAAG;IACb,YAAA,UAAU,EAAE,EAAE;aACf,CAAC;IAEF,QAAA,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACjB,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc;IAC1D,aAAA,SAAS,CAAC,UAAC,KAAa,EAAA,EAAK,OAAA,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAA5B,EAA4B,CAAC,CAAC;IAC9D,QAAA,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACjB;IAED,IAAA,iBAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,YAAA;YAAA,IAMC,KAAA,GAAA,IAAA,CAAA;IALC,QAAA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,KAAK,EAAA;gBACtB,IAAI,KAAK,CAAC,OAAO,EAAE;IACjB,gBAAA,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,UAAU,CAAC,QAAQ,CAACC,kBAAe,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IAC/E,aAAA;IACH,SAAC,CAAC,CAAC;SACJ,CAAA;IAEM,IAAA,iBAAA,CAAA,SAAA,CAAA,eAAe,GAAf,YAAA;;;YAGL,IAAI,CAAC,SAAS,GAAG;IACf,YAAA,mBAAmB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;IAC3F,YAAA,qBAAqB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;IAC/F,YAAA,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;IACjG,YAAA,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;IAC7F,YAAA,mBAAmB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;IAChH,YAAA,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;IACtH,YAAA,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;IAClH,YAAA,qBAAqB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,oBAAoB,CAAC,CAAC;aACrH,CAAC;IAEF,QAAA,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;gBAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,0BAA0B,EAAE,CAAC;IACnC,SAAA;SACF,CAAA;IAEM,IAAA,iBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACL,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;;gBAEpC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC5B,SAAA;IAED,QAAA,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;SACxC,CAAA;QAGM,iBAAK,CAAA,SAAA,CAAA,KAAA,GAAL,UAAM,MAAW,EAAA;YACtB,MAAM,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAC9C,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC;gBAC7C,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;IAC9C,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACtF,SAAA;SACF,CAAA;QAEM,iBAAO,CAAA,SAAA,CAAA,OAAA,GAAP,UAAQ,MAAW,EAAA;YACxB,MAAM,CAAC,eAAe,EAAE,CAAC;IACzB,QAAA,IAAI,MAAc,CAAC;IACnB,QAAA,IAAI,KAAa,CAAC;YAClB,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;gBACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBAC/B,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC3B,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,SAAA,GAAU,IAAI,CAAC,MAAM,SAAM,CAAC;IACxF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,SAAA,GAAU,IAAI,CAAC,MAAM,SAAM,CAAC;IAC9F,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC5F,SAAA;iBAAM,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;gBAC3D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBAC/B,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC3B,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,SAAA,GAAU,IAAI,CAAC,MAAM,SAAM,CAAC;IACxF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,SAAA,GAAU,IAAI,CAAC,MAAM,SAAM,CAAC;IAC9F,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC7F,SAAA;iBAAM,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;gBACzD,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;gBAC7F,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;IAC3F,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;IAChF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;gBAC9E,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;gBACpF,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;IAClF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;IACvE,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;IACrE,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACzF,SAAA;iBAAM,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;gBACxD,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;gBAC7F,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;IAC3F,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;IAChF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;gBAC9E,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;gBACpF,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;IAClF,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;IACvE,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;IACrE,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACxF,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,YAAA;IACN,QAAA,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YACvB,IAAI,IAAI,GAAG,CAAC,EAAE;gBACZ,IAAI,IAAI,CAAC,CAAC,CAAC;IACZ,SAAA;IACD,QAAA,IAAI,IAAI,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE;gBAC9C,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;gBACxH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;gBACxH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;gBACnH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;IACpH,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;gBACzH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;gBACvH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;gBACnH,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;IACpH,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACN,QAAA,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACxD,QAAA,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,YAAU,IAAI,CAAC,MAAM,GAAA,MAAM,CAAC;gBACpD,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,YAAU,IAAI,CAAC,MAAM,GAAA,MAAM,CAAC;IAC3D,SAAA;SAEF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,YAAA;IACN,QAAA,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAClF,QAAA,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAChF,QAAA,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAC7B,IAAI,IAAI,GAAG,CAAC,EAAE;IACZ,YAAA,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;IACnB,SAAA;YACD,IAAI,IAAI,KAAK,EAAE,EAAE;gBACf,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,IAAI,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;IAC9G,SAAA;iBAAM,IAAI,IAAI,KAAK,GAAG,EAAE;gBACvB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;IAChH,SAAA;iBAAM,IAAI,IAAI,KAAK,GAAG,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;IAC/G,SAAA;SACC,CAAA;IAEM,IAAA,iBAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;IACL,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC3B,OAAO;IACR,SAAA;iBAAM,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IAC3D,YAAA,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IACtB,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC/C,SAAA;SACF,CAAA;IAEM,IAAA,iBAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;IACL,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC3B,OAAO;IACR,SAAA;IAAM,aAAA,IAAI,IAAI,CAAC,iBAAiB,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC1C,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC/C,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,YAAA;YACN,IAAI,IAAI,CAAC,KAAK;gBACZ,IAAI,CAAC,KAAK,YAAY,KAAK;IAC3B,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IACvB,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;;oBAG1C,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;wBACrB,SAAS;IACV,iBAAA;IAED,gBAAA,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;IACpE,aAAA;IACF,SAAA;IAAM,aAAA;IACL,YAAA,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAC;IACvE,SAAA;;;IAID,QAAA,IAAI,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE;IACjC,YAAA,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;IACxD,SAAA;IAAM,aAAA;gBACL,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACzD,SAAA;IAED,QAAA,OAAO,IAAI,CAAC;SACb,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,0BAA0B,GAA1B,YAAA;YAAA,IAqBP,KAAA,GAAA,IAAA,CAAA;IApBC,QAAA,IAAM,GAAG,GAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC;IAExD,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;IACtE,YAAA,UAAU,CAAE,YAAA;oBACV,KAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,aAAC,CAAC,CAAC;gBACH,OAAO;IACR,SAAA;IAED,QAAA,IAAM,SAAS,GAAG,IAAI,KAAK,EAAE,CAAC;YAE9B,SAAS,CAAC,MAAM,GAAG,YAAA;gBACjB,KAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,SAAC,CAAA;IAED,QAAA,SAAS,CAAC,OAAO,GAAG,UAAC,CAAC,EAAA;IACpB,YAAA,KAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,cAAc,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7F,SAAC,CAAA;IAED,QAAA,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAACA,kBAAe,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;SACpE,CAAA;IAED;;IAEG;IACK,IAAA,iBAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,YAAA;IACN,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;;gBAEpC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC5B,SAAA;IAED,QAAA,IAAI,WAAW,CAAC;IAChB,QAAA,IAAI,UAAU,CAAC;IACf,QAAA,IAAI,cAAc,CAAC;IACnB,QAAA,IAAI,aAAa,CAAC;IAClB,QAAA,IAAI,YAAY,CAAC;IACjB,QAAA,IAAI,WAAW,CAAC;IAChB,QAAA,IAAI,iBAAiB,CAAC;IACtB,QAAA,IAAI,kBAAkB,CAAC;;YAGvB,UAAU,GAAG,iBAAiB,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,EAAE,CAAC;YAChI,WAAW,GAAG,kBAAkB,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,EAAE,CAAC;IACpI,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;IACnC,YAAA,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;IACzC,YAAA,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;IAC3C,YAAA,aAAa,GAAG,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB;oBAC/D,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB;IAC1E,gBAAA,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,EAAE,CAAC;IAC5C,YAAA,cAAc,GAAG,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB;oBAChE,IAAI,CAAC,SAAS,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB;IACvE,gBAAA,IAAI,CAAC,SAAS,CAAC,sBAAsB,GAAG,GAAG,CAAC;IAC9C,YAAA,IAAI,iBAAiB,GAAG,aAAa,IAAI,kBAAkB,GAAG,cAAc,EAAE;oBAC5E,IAAI,CAAC,iBAAiB,GAAG,aAAa,KAAK,kBAAkB,GAAG,cAAc,CAAC,EAAE;wBAC/E,UAAU,GAAG,aAAa,CAAC;IAC3B,oBAAA,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,IAAI,iBAAiB,GAAG,UAAU,CAAC,CAAC,CAAC;IACjF,iBAAA;IAAM,qBAAA;wBACL,WAAW,GAAG,cAAc,CAAC;IAC7B,oBAAA,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,kBAAkB,GAAG,WAAW,CAAC,CAAC,CAAC;IACjF,iBAAA;IACF,aAAA;gBAED,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,aAAa,EAAE,OAAO,EAAK,UAAU,GAAI,IAAA,CAAC,CAAC;gBAC5G,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAK,WAAW,GAAI,IAAA,CAAC,CAAC;IAC/G,SAAA;IAED,QAAA,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;IAE7C,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;IACjC,YAAA,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;IACjD,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,UAAkB,UAAkB,EAAE,WAAmB,EAAA;YAC/D,IAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC;IACjE,QAAA,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;YAEjD,IAAM,UAAU,GAAG,YAAY,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC,CAAC;IACtD,QAAA,IAAM,WAAW,GAAG,YAAY,GAAG,UAAU,CAAC;IAE9C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,KAAK,EAAK,WAAW,GAAA,IAAI,CAAC,CAAC;SACzF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,cAAc,GAAd,UAAe,UAAkB,EAAE,WAAmB,EAAA;YAAtD,IAgCP,KAAA,GAAA,IAAA,CAAA;YA/BC,IAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,WAAW,CAAC;YACpE,IAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,YAAY,CAAC;IACtE,QAAA,IAAM,QAAQ,GAAG,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB;gBACtG,IAAI,CAAC,SAAS,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC;IAC7E,QAAA,IAAM,SAAS,GAAG,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,sBAAsB;gBACxG,IAAI,CAAC,SAAS,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC;;IAG7E,QAAA,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE;IACvE,YAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,OAAO,EAAK,QAAQ,GAAA,IAAI,CAAC,CAAC;IAC7F,YAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,QAAQ,EAAK,SAAS,GAAA,IAAI,CAAC,CAAC;;;IAI/F,YAAA,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;IACjC,gBAAA,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;IAC7B,gBAAA,CAAC,eAAe,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,iBAAiB,CAAC,CAAC,OAAO,CAAC,UAAA,SAAS,EAAA;wBAC7F,KAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAC1B,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,SAAS,EAAE,UAAC,KAAU,EAAA;IACrF,wBAAA,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,EAAE;IACxC,4BAAA,KAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IACvC,yBAAA;yBACF,CAAC,CACH,CAAC;IACJ,iBAAC,CAAC,CAAC;IACJ,aAAA;IAAM,iBAAA;IACL,gBAAA,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IACvC,aAAA;IACF,SAAA;IAAM,aAAA;IACL,YAAA,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IACvC,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,UAAY,QAAgB,EAAE,SAAiB,EAAA;;YAErD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE;gBAC1C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,YAAiB,EAAA;IAChD,gBAAA,YAAY,EAAE,CAAC;IACjB,aAAC,CAAC,CAAC;IAEH,YAAA,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;IAC9B,SAAA;IAED,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,OAAO,EAAK,QAAQ,GAAA,IAAI,CAAC,CAAC;YAC5F,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IACN,QAAA,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,cAAc,EAAE,CAAC;IACtB,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACpC,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC3B,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,YAAA;YAAA,IAYP,KAAA,GAAA,IAAA,CAAA;;YAVC,IAAI,CAAC,gBAAgB,EAAE,CAAC;;YAGxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;;IAGzB,QAAA,UAAU,CAAC,YAAA;gBACT,KAAI,CAAC,EAAE,CAAC,cAAc,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAC/C,KAAI,CAAC,EAAE,CAAC,gBAAgB,GAAG,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC;aACpD,EAAE,CAAC,CAAC,CAAC;SACP,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,YAAA;;IAEN,QAAA,IAAM,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS;IACrF,YAAA,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;IAC/B,QAAA,IAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC;IAEzF,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;IAClC,YAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,KAAK,EAAK,GAAG,GAAA,IAAI,CAAC,CAAC;IACjF,SAAA;IAED,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,MAAM,EAAK,IAAI,GAAA,IAAI,CAAC,CAAC;IAClF,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;;IAGjF,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;IACjC,YAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;IACvF,SAAA;SACF,CAAA;IAED;;IAEG;IACK,IAAA,iBAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,YAAA;IACN,QAAA,IAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC;IACnD,QAAA,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAE/C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EACzD,4BAA4B,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IACpD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EACzD,oBAAoB,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IAC5C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAC/D,6BAA6B,EAAK,cAAc,GAAA,GAAG,CAAC,CAAC;IACvD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAC/D,qBAAqB,EAAK,cAAc,GAAA,GAAG,CAAC,CAAC;IAC/C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAC9D,4BAA4B,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IACpD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAC9D,oBAAoB,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,aAAa,EAC5E,4BAA4B,EAAK,YAAY,GAAG,GAAA,CAAC,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,aAAa,EAC5E,oBAAoB,EAAK,YAAY,GAAG,GAAA,CAAC,CAAC;IAC5C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EACxD,4BAA4B,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IACpD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EACxD,oBAAoB,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IAC5C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EACvD,4BAA4B,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IACpD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EACvD,oBAAoB,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;SAC7C,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;YAAA,IAQP,KAAA,GAAA,IAAA,CAAA;IAPC,QAAA,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,4BAA4B,CAAC;IACjD,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;IACjC,YAAA,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;IAC1F,SAAA;IACD,QAAA,UAAU,CAAC,YAAA;IACT,YAAA,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;aACvB,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;SACtC,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,cAAc,GAAd,YAAA;;IAEN,QAAA,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO,KAAK,WAAW;gBACnE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;IACnD,YAAA,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;IAC5B,SAAA;;;;IAKD,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE;IAC9D,YAAA,IAAI,CAAC,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAC9C,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;;IAEN,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SACrH,CAAA;QAEO,iBAAY,CAAA,SAAA,CAAA,YAAA,GAAZ,UAAa,QAAgB,EAAA;YACnC,IAAI,CAAC,WAAW,EAAE,CAAC;IACnB,QAAA,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;YAClC,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,0BAA0B,EAAE,CAAC;IAClC,QAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;SAChG,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IACN,QAAA,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,IAAI,CAAC;IAC5B,QAAA,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,KAAK,CAAC;IAC7B,QAAA,IAAI,CAAC,EAAE,CAAC,aAAa,GAAG,KAAK,CAAC;IAC9B,QAAA,IAAI,CAAC,EAAE,CAAC,cAAc,GAAG,KAAK,CAAC;IAC/B,QAAA,IAAI,CAAC,EAAE,CAAC,cAAc,GAAG,KAAK,CAAC;IAC/B,QAAA,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,KAAK,CAAC;SAC7B,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;YACN,IAAI,aAAa,GAAG,KAAK,CAAC;;YAG1B,IAAI;IACF,YAAA,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;IAC5C,YAAA,aAAa,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,IAAI,IAAI,GAAG,KAAK,CAAC;IAC3E,SAAA;IAAC,QAAA,OAAO,CAAC,EAAE;;IAEX,SAAA;;;YAID,IAAI,CAAC,aAAa,EAAE,CAAC;IACrB,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IACzB,YAAA,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;IAC3B,gBAAA,IAAI,aAAa,EAAE;;IAEjB,oBAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;IAC9E,oBAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;IAChF,iBAAA;;oBAGD,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC3B,aAAA;IAAM,iBAAA;IACL,gBAAA,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,EAAE;;wBAE9B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IACzB,oBAAA,IAAI,aAAa,EAAE;;IAEjB,wBAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;IAC/E,qBAAA;IACF,iBAAA;oBAED,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;wBAElD,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC1B,oBAAA,IAAI,aAAa,EAAE;;IAEjB,wBAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;IAChF,qBAAA;IACF,iBAAA;IACF,aAAA;IACF,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,YAAA;IACN,QAAA,IAAI,CAAC,EAAE,CAAC,aAAa,GAAG,IAAI,CAAC;SAC9B,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,YAAA;IACN,QAAA,IAAI,CAAC,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC;SAC/B,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,aAAa,GAAb,YAAA;IACN,QAAA,IAAI,CAAC,EAAE,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;SAClD,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,YAAA;YAAA,IAIP,KAAA,GAAA,IAAA,CAAA;IAHC,QAAA,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,OAAO,EAAE,UAAC,KAAU,EAAA;IAC3E,YAAA,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IAC9B,SAAC,CAAC,CAAC;SACJ,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,YAAA;IACN,QAAA,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;IACrB,YAAA,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACrB,SAAA;SACF,CAAA;QAEO,iBAAe,CAAA,SAAA,CAAA,eAAA,GAAf,UAAgB,MAAW,EAAA;YACjC,IAAM,WAAW,GAAG,EAAE,CAAC;YACvB,IAAM,iBAAiB,GAAG,EAAE,CAAC;YAC7B,IAAM,kBAAkB,GAAG,EAAE,CAAC;IAC9B,QAAA,IAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAC/B,IAAM,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;YAEvD,IAAI,OAAO,KAAK,WAAW,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;IACjD,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACtF,SAAA;IAAM,aAAA,IAAI,GAAG,KAAK,GAAG,IAAI,OAAO,KAAK,iBAAiB,EAAE;IACvD,YAAA,IAAI,IAAI,CAAC,iBAAiB,KAAK,CAAC,EAAE;oBAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC/C,aAAA;IAAM,iBAAA,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC3D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC1C,aAAA;IACF,SAAA;IAAM,aAAA,IAAI,GAAG,KAAK,GAAG,IAAI,OAAO,KAAK,kBAAkB,EAAE;gBACxD,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBACpD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC/C,aAAA;IAAM,iBAAA,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IAC3D,gBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IACtB,aAAA;IACF,SAAA;SACF,CAAA;IAEO,IAAA,iBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,UAAkB,IAAS,EAAE,YAAoB,EAAA;IACvD,QAAA,OAAO,UAAU,CAAC,IAAI,CAAC,UAAU;IAC9B,aAAA,gBAAgB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC;IAC1C,aAAA,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;SACpC,CAAA;QAEO,iBAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,KAAa,EAAA;YACpC,QAAQ,KAAK,CAAC,EAAE;gBACd,KAAK,cAAc,CAAC,KAAK;oBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,MAAM;IACR,YAAA;oBACE,MAAM;IACT,SAAA;SACF,CAAA;QAEM,iBAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,GAAW,EAAA;;IAE5B,QAAA,IAAI,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;IACvB,YAAA,OAAO,IAAI,CAAC;IACb,SAAA;IACD,QAAA,OAAO,KAAK,CAAC;SACd,CAAA;;;IAhnBU,iBAAA,CAAA,IAAA,GAAA,SAAA,yBAAA,CAAA,CAAA,EAAA,EAAA,OAAA,KAAA,CAAA,IAAA,iBAAiB,mXA4BlBC,WAAQ,CAAA,CAAA,CAAA,EAAA,CAAA;mFA5BP,iBAAiB,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,EAAA,YAAA,EAAA,EAAA,CAAA,CAAA,EAAA,SAAA,EAAA,SAAA,uBAAA,CAAA,EAAA,EAAA,GAAA,EAAA;YAAA,IAAA,EAAA,GAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;uHAAjB,GAAa,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;;;;;;;gBDjC1BJ,aAA8E,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA;gBAC1EA,aAAoD,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA;IAChD,YAAAA,aAE2F,CAAA,UAAA,CAAA,CAAA,EAAA,gCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;IAC3F,YAAAA,aAGS,CAAA,UAAA,CAAA,CAAA,EAAA,mCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,CAAA,CAAA,CAAA;gBACTA,aAA0D,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA;gBACtDA,aAAiF,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA;IAAjC,YAAAA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,6CAAA,GAAA,EAAA,OAAS,eAAW,CAAC,EAAA,CAAA,CAAA;gBAAYA,aAAI,CAAA,YAAA,EAAA,CAAA;gBACrFA,aAAmF,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;IAAlC,YAAAA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,GAAA,EAAA,OAAS,eAAW,CAAC,EAAA,CAAA,CAAA;gBAAaA,aAAI,CAAA,YAAA,EAAA,CAAA;gBAC3FA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACNA,aAA2E,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBAAxBA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,gDAAA,CAAA,MAAA,EAAA,EAAA,OAAS,iBAAa,CAAC,EAAA,CAAA,CAAA;gBACtEA,aAAyB,CAAA,SAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAC7BA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACVA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACVA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACNA,aAAwE,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;gBACpEA,aAAqB,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBACjBA,aAAwB,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBACpBA,aAEO,CAAA,SAAA,CAAA,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;gBACPA,aAA+E,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;IAAA,YAAAA,aACzE,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;gBAAAA,aAAO,CAAA,YAAA,EAAA,CAAA;gBACjBA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACNA,aAAiC,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBAC7BA,aAA+B,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBAC3BA,aAA4C,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAAxBA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,CAAA,MAAA,EAAA,EAAA,OAAS,iBAAa,CAAC,EAAA,CAAA,CAAA;gBAACA,aAAI,CAAA,YAAA,EAAA,CAAA;gBACpDA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACNA,aAA8D,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBAC1DA,aAAiD,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAA1BA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,CAAA,MAAA,EAAA,EAAA,OAAS,mBAAe,CAAC,EAAA,CAAA,CAAA;gBAACA,aAAI,CAAA,YAAA,EAAA,CAAA;gBACrDA,aAAkD,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAA1BA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,CAAA,MAAA,EAAA,EAAA,OAAS,mBAAe,CAAC,EAAA,CAAA,CAAA;gBAACA,aAAI,CAAA,YAAA,EAAA,CAAA;gBAC1DA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACNA,aAA4D,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;gBACxDA,aAAgD,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAA1BA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,CAAA,MAAA,EAAA,EAAA,OAAS,mBAAe,CAAC,EAAA,CAAA,CAAA;gBAACA,aAAI,CAAA,YAAA,EAAA,CAAA;gBACpDA,aAA+C,CAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;gBAA1BA,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,CAAA,MAAA,EAAA,EAAA,OAAS,mBAAe,CAAC,EAAA,CAAA,CAAA;gBAACA,aAAI,CAAA,YAAA,EAAA,CAAA;gBACvDA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACVA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACVA,aAAM,CAAA,YAAA,EAAA,CAAA;gBACVA,aAAM,CAAA,YAAA,EAAA,CAAA;;;IArCO,YAAAA,aAAoF,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAApF,YAAAA,aAAoF,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,CAAA,MAAA,IAAA,CAAA,GAAA,CAAA,WAAA,CAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA;IAGpF,YAAAA,aAAkF,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAAlF,YAAAA,aAAkF,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,CAAA,MAAA,IAAA,GAAA,CAAA,WAAA,CAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA;IAEnE,YAAAA,aAA2B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA3B,YAAAA,aAA2B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;IACxB,YAAAA,aAA4B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA5B,YAAAA,aAA4B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,aAAA,CAAA,CAAA;IAC5B,YAAAA,aAA6B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA7B,YAAAA,aAA6B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,cAAA,CAAA,CAAA;IAE7B,YAAAA,aAA2B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA3B,YAAAA,aAA2B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;IAK5B,YAAAA,aAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;gBAA1BA,aAA0B,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA;IAGF,YAAAA,aAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA1B,YAAAA,aAAA,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,WAAA,CAA0B,CAAA,WAAA,EAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,CAAA,OAAA,EAAAA,aAAA,CAAA,cAAA,CAAA,CAAA;IAG3B,YAAAA,aAA6B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA7B,YAAAA,aAA6B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,cAAA,CAAA,CAAA;IAAS,YAAAA,aACzE,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;gBADyEA,aACzE,CAAA,iBAAA,CAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;IAMwB,YAAAA,aAA+B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA/B,YAAAA,aAA+B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,gBAAA,CAAA,CAAA;IAI/B,YAAAA,aAA6B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;IAA7B,YAAAA,aAA6B,CAAA,UAAA,CAAA,QAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,cAAA,CAAA,CAAA;;qDChB1D,QAAQ,CAAA,EAAA,aAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;2FAcR,iBAAiB,EAAA,CAAA;sBAP7BK,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,cAAc;IACxB,oBAAA,IAAI,EAAE;IACJ,wBAAA,SAAS,EAAE,cAAc;IAC1B,qBAAA;IACD,oBAAA,WAAW,EAAE,2BAA2B;qBACzC,CAAA;;;kCA6BIC,SAAM;mCAACF,WAAQ,CAAA;;aA3BT,KAAK,EAAA,CAAA;0BAAbG,QAAK;oBACG,iBAAiB,EAAA,CAAA;0BAAzBA,QAAK;oBACG,OAAO,EAAA,CAAA;0BAAfA,QAAK;oBACG,MAAM,EAAA,CAAA;0BAAdA,QAAK;oBACuB,mBAAmB,EAAA,CAAA;0BAA/CC,YAAS;2BAAC,gBAAgB,CAAA;oBACH,cAAc,EAAA,CAAA;0BAArCA,YAAS;2BAAC,WAAW,CAAA;oBACE,cAAc,EAAA,CAAA;0BAArCA,YAAS;2BAAC,WAAW,CAAA;oBACG,eAAe,EAAA,CAAA;0BAAvCA,YAAS;2BAAC,YAAY,CAAA;oBACA,aAAa,EAAA,CAAA;0BAAnCA,YAAS;2BAAC,UAAU,CAAA;oBACO,kBAAkB,EAAA,CAAA;0BAA7CA,YAAS;2BAAC,eAAe,CAAA;oBACN,UAAU,EAAA,CAAA;0BAA7BA,YAAS;2BAAC,OAAO,CAAA;oBACG,WAAW,EAAA,CAAA;0BAA/BA,YAAS;2BAAC,QAAQ,CAAA;oBACG,YAAY,EAAA,CAAA;0BAAjCA,YAAS;2BAAC,SAAS,CAAA;oBACC,WAAW,EAAA,CAAA;0BAA/BA,YAAS;2BAAC,QAAQ,CAAA;oBAgGZ,KAAK,EAAA,CAAA;0BADXC,eAAY;2BAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAA;;;;;ICvHnC,IAAA,wBAAA,kBAAA,YAAA;IAKE,IAAA,SAAA,wBAAA,CACU,QAAoB,EACpB,YAAuB,EACvB,cAA6B,EACX,YAAY,EAAA;YAJxC,IAQC,KAAA,GAAA,IAAA,CAAA;IAPS,QAAA,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;IACpB,QAAA,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAW;IACvB,QAAA,IAAc,CAAA,cAAA,GAAd,cAAc,CAAe;IACX,QAAA,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAA;IAEtC,QAAA,IAAI,CAAC,SAAS,GAAG,yCAAyC,CAAC;YAC3D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,UAAC,KAAa,EAAK,EAAA,OAAA,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAA,EAAA,CAAC,CAAC;SACpH;IAGM,IAAA,wBAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;;IAEL,QAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SACtF,CAAA;IAEM,IAAA,wBAAA,CAAA,SAAA,CAAA,eAAe,GAAf,YAAA;IACL,QAAA,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAE/C,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EACpD,4BAA4B,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;IACpD,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EACpD,oBAAoB,EAAK,YAAY,GAAA,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB,CAAA;IAGM,IAAA,wBAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,YAAA;YACL,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB,CAAA;IAEM,IAAA,wBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACL,QAAA,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;SAClC,CAAA;IAEO,IAAA,wBAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,YAAA;IACN,QAAA,IAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACtC,QAAA,IAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAExC,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,OAAO,EAAK,KAAK,GAAA,IAAI,CAAC,CAAC;IAC/E,QAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,EAAK,MAAM,GAAA,IAAI,CAAC,CAAC;SAClF,CAAA;QAEO,wBAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,KAAa,EAAA;YACpC,QAAQ,KAAK,CAAC,EAAE;gBACd,KAAK,cAAc,CAAC,KAAK;oBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;oBACd,MAAM;IACN,YAAA;oBACA,MAAM;IACP,SAAA;SACF,CAAA;IAEO,IAAA,wBAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;YAAA,IAQP,KAAA,GAAA,IAAA,CAAA;IAPC,QAAA,IAAI,CAAC,SAAS,GAAG,0CAA0C,CAAC;;;IAI5D,QAAA,UAAU,CAAC,YAAA;IACT,YAAA,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;aACvB,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;SACtC,CAAA;IAEO,IAAA,wBAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,YAAA;YACN,OAAO,IAAI,CAAC,GAAG,CACb,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAClC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,WAAW,EAC7C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,WAAW,EAC7C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,WAAW,CAC9C,CAAC;SACH,CAAA;IAEO,IAAA,wBAAA,CAAA,SAAA,CAAA,iBAAiB,GAAjB,YAAA;YACN,OAAO,IAAI,CAAC,GAAG,CACb,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EACnC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EACnC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,EAC9C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,EAC9C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,CAC/C,CAAC;SACH,CAAA;;;IAtFU,wBAAA,CAAA,IAAA,GAAA,SAAA,gCAAA,CAAA,CAAA,EAAA,EAAA,OAAA,KAAA,CAAA,IAAA,wBAAwB,uMASzBL,WAAQ,CAAA,CAAA,CAAA,EAAA,CAAA;0FATP,wBAAwB,EAAA,SAAA,EAAA,CAAA,CAAA,EAAA,EAAA,YAAA,EAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,YAAA,EAAA,SAAA,qCAAA,CAAA,EAAA,EAAA,GAAA,EAAA;YAAA,IAAA,EAAA,GAAA,CAAA,EAAA;IAAxB,YAAAJ,aAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,iDAAA,GAAA,EAAA,OAAA,GAAA,CAAA,KAAA,EAAO,sFAAP,GAAU,CAAA,QAAA,EAAA,CAAA,EAAA,EAAA,KAAA,EAAAA,aAAA,CAAA,eAAA,CAAA,CAAA;;;;;;;2FAAV,wBAAwB,EAAA,CAAA;sBAPpCK,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACT,oBAAA,QAAQ,EAAE,cAAc;IACxB,oBAAA,QAAQ,EAAE,EAAE;IACZ,oBAAA,IAAI,EAAE;IACJ,wBAAA,SAAS,EAAE,WAAW;IACvB,qBAAA;qBACF,CAAA;;;kCAUIC,SAAM;mCAACF,WAAQ,CAAA;;aART,OAAO,EAAA,CAAA;0BAAfG,QAAK;oBACG,MAAM,EAAA,CAAA;0BAAdA,QAAK;oBAcC,KAAK,EAAA,CAAA;0BADXE,eAAY;2BAAC,OAAO,CAAA;oBAiBd,QAAQ,EAAA,CAAA;0BADdA,eAAY;2BAAC,eAAe,CAAA;;;;AClD/B,QAAA,cAAA,kBAAA,YAAA;IAiBE,IAAA,SAAA,cAAA,GAAA;IACE,QAAA,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IACxB,QAAA,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;IAC1B,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;IAC/B,QAAA,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC1B,QAAA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;IAClC,QAAA,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;IACzC,QAAA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB,QAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;IAChC,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAC9B,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAC9B,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IAC7B,QAAA,IAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC;IACnC,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACtB,QAAA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB,QAAA,IAAI,CAAC,wBAAwB,GAAG,UAAC,WAAW,EAAK,EAAA,OAAA,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA,EAAA,CAAC;SACpF;;;gFAjCU,cAAc,GAAA,CAAA,EAAA,CAAA;mFAAd,cAAc,EAAA,OAAA,EAAd,cAAc,CAAA,IAAA,EAAA,UAAA,EAFb,MAAM,EAAA,CAAA,CAAA;;2FAEP,cAAc,EAAA,CAAA;sBAH1BV,aAAU;IAAC,YAAA,IAAA,EAAA,CAAA;IACV,oBAAA,UAAU,EAAE,MAAM;qBACnB,CAAA;;;;ACcD,QAAA,QAAA,kBAAA,YAAA;QACE,SACU,QAAA,CAAA,yBAAmD,EACnD,SAAmB,EACnB,eAA+B,EAC/B,eAA+B,EAC/B,cAA6B,EACX,YAAY,EAAA;IAL9B,QAAA,IAAyB,CAAA,yBAAA,GAAzB,yBAAyB,CAA0B;IACnD,QAAA,IAAS,CAAA,SAAA,GAAT,SAAS,CAAU;IACnB,QAAA,IAAe,CAAA,eAAA,GAAf,eAAe,CAAgB;IAC/B,QAAA,IAAe,CAAA,eAAA,GAAf,eAAe,CAAgB;IAC/B,QAAA,IAAc,CAAA,cAAA,GAAd,cAAc,CAAe;IACX,QAAA,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAA;SACnC;IAEL,IAAA,QAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,UAAK,KAAoB,EAAE,QAAY,EAAE,OAAY,EAAA;YAArD,IAoCC,KAAA,GAAA,IAAA,CAAA;IApC0B,QAAA,IAAA,QAAA,KAAA,KAAA,CAAA,EAAA,EAAA,QAAY,GAAA,CAAA,CAAA,EAAA;IAAE,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAAY,GAAA,EAAA,CAAA,EAAA;YACnD,IAAM,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;YAC5E,IAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YAC9D,IAAM,UAAU,GAA4B,EAAE,CAAC;;IAG/C,QAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;YACxE,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;;IAGzD,QAAA,YAAY,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;IACpC,QAAA,YAAY,CAAC,QAAQ,CAAC,iBAAiB,GAAG,QAAQ,CAAC;IACnD,QAAA,YAAY,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAU,CAAC;IAC3C,QAAA,YAAY,CAAC,QAAQ,CAAC,MAAM,GAAG,YAAY,CAAC;;IAG5C,QAAA,mBAAmB,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAU,CAAC;IAClD,QAAA,mBAAmB,CAAC,QAAQ,CAAC,MAAM,GAAG,mBAAmB,CAAC;;;;IAK1D,QAAA,UAAU,CAAC,YAAA;gBACT,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;gBAC9D,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;gBACvD,mBAAmB,CAAC,SAAS,CAAC,YAAA;oBAC5B,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IAChE,aAAC,CAAC,CAAC;gBACH,YAAY,CAAC,SAAS,CAAC,YAAA;oBACrB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IACzD,aAAC,CAAC,CAAC;gBAEH,IAAM,gBAAgB,GAAG,UAAU,CAAC,wBAAwB,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;gBAChF,gBAAgB,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;gBACzE,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IACpE,SAAC,CAAC,CAAC;SACJ,CAAA;IAED,IAAA,QAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;YACE,IAAI,IAAI,CAAC,cAAc,EAAE;IACvB,YAAA,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC;IAC1E,SAAA;SACF,CAAA;QAED,QAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,cAAmB,EAAA;YAClC,IAAM,OAAO,GAAG,IAAI,CAAC,yBAAyB,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;YACvF,IAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAEjD,QAAA,OAAO,SAAS,CAAC;SAClB,CAAA;;;IA3DU,QAAA,CAAA,IAAA,GAAA,SAAA,gBAAA,CAAA,CAAA,EAAA,EAAA,OAAA,KAAA,CAAA,IAAA,QAAQ,8QAOTK,WAAQ,CAAA,CAAA,CAAA,EAAA,CAAA;6EAPP,QAAQ,EAAA,OAAA,EAAR,QAAQ,CAAA,IAAA,EAAA,UAAA,EAFP,MAAM,EAAA,CAAA,CAAA;;2FAEP,QAAQ,EAAA,CAAA;sBAHpBL,aAAU;IAAC,YAAA,IAAA,EAAA,CAAA;IACV,oBAAA,UAAU,EAAE,MAAM;qBACnB,CAAA;;;kCAQIO,SAAM;mCAACF,WAAQ,CAAA;;;;;ACLpB,QAAA,cAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,cAAA,GAAA;;;;gFAAa,cAAc,GAAA,CAAA,EAAA,CAAA;+EAAd,cAAc,EAAA,CAAA,CAAA;IARd,cAAA,CAAA,IAAA,iBAAAJ,aAAA,CAAA,gBAAA,CAAA,EAAA,SAAA,EAAA;YACT,QAAQ;YACR,cAAc;YACd,aAAa;YACb,iBAAiB;SAClB,EAPQ,OAAA,EAAA,CAAA,CAAEU,eAAY,CAAE,CAAA,EAAA,CAAA,CAAA;;2FAUd,cAAc,EAAA,CAAA;sBAX1BC,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACR,OAAO,EAAE,CAAED,eAAY,CAAE;IACzB,oBAAA,YAAY,EAAE,CAAE,wBAAwB,EAAE,iBAAiB,EAAE,QAAQ,CAAE;IACvE,oBAAA,SAAS,EAAE;4BACT,QAAQ;4BACR,cAAc;4BACd,aAAa;4BACb,iBAAiB;IAClB,qBAAA;IACD,oBAAA,eAAe,EAAE,CAAE,wBAAwB,EAAE,iBAAiB,CAAE;qBACjE,CAAA;;;IACY,CAAA,cAAA,CAAA,OAAA,SAAA,KAAA,WAAA,IAAA,SAAA,KAAAV,aAAA,CAAA,kBAAA,CAAA,cAAc,mBATT,wBAAwB,EAAE,iBAAiB,EAAE,QAAQ,aAD1DU,eAAY,CAAA,EAAA,CAAA,CAAA,EAAA,GAAA;;ICTzB;;IAEG;;;;;;;;;;;;;;;"}