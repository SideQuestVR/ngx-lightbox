!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-lightbox",["exports","@angular/core","@angular/common","rxjs","@angular/platform-browser"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-lightbox"]={},e.ng.core,e.ng.common,e.rxjs,e.ng.platformBrowser)}(this,(function(e,t,n,i,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=r(t),s=r(n),l=r(o),h={CHANGE_PAGE:1,CLOSE:2,OPEN:3,ZOOM_IN:4,ZOOM_OUT:5,ROTATE_LEFT:6,ROTATE_RIGHT:7,FILE_NOT_FOUND:8},d=function(){function e(){this._lightboxEventSource=new i.Subject,this.lightboxEvent$=this._lightboxEventSource.asObservable()}return e.prototype.broadcastLightboxEvent=function(e){this._lightboxEventSource.next(e)},e}();d.ɵfac=function(e){return new(e||d)},d.ɵprov=a.ɵɵdefineInjectable({token:d,factory:d.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(d,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null);var c=function(){function e(){}return Object.defineProperty(e.prototype,"nativeWindow",{get:function(){return window},enumerable:!1,configurable:!0}),e}();c.ɵfac=function(e){return new(e||c)},c.ɵprov=a.ɵɵdefineInjectable({token:c,factory:c.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(c,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);var m=["outerContainer"],u=["container"],f=["leftArrow"],g=["rightArrow"],p=["navArrow"],y=["dataContainer"],_=["image"],v=["iframe"],b=["caption"],E=["number"];function I(e,t){if(1&e&&a.ɵɵelement(0,"img",31,32),2&e){var n=a.ɵɵnextContext();a.ɵɵproperty("src",n.album[n.currentImageIndex].src,a.ɵɵsanitizeUrl)("hidden",n.ui.showReloader)}}function w(e,t){if(1&e&&(a.ɵɵelement(0,"iframe",33,34),a.ɵɵpipe(2,"safe")),2&e){var n=a.ɵɵnextContext();a.ɵɵproperty("src",a.ɵɵpipeBind1(2,2,n.album[n.currentImageIndex].src),a.ɵɵsanitizeResourceUrl)("hidden",n.ui.showReloader)}}var R=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e}();R.ɵfac=function(e){return new(e||R)(a.ɵɵdirectiveInject(l.DomSanitizer))},R.ɵpipe=a.ɵɵdefinePipe({name:"safe",type:R,pure:!0}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(R,[{type:t.Pipe,args:[{name:"safe"}]}],(function(){return[{type:l.DomSanitizer}]}),null);var x=function(){function e(e,t,n,i,o,r,a){var s=this;this._elemRef=e,this._rendererRef=t,this._lightboxEvent=n,this._lightboxElem=i,this._lightboxWindowRef=o,this._sanitizer=r,this._documentRef=a,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe((function(e){return s._onReceivedEvent(e)})),this.rotate=0}return e.prototype.ngOnInit=function(){var e=this;this.album.forEach((function(n){n.caption&&(n.caption=e._sanitizer.sanitize(t.SecurityContext.HTML,n.caption))}))},e.prototype.ngAfterViewInit=function(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())},e.prototype.ngOnDestroy=function(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()},e.prototype.close=function(e){e.stopPropagation(),(e.target.classList.contains("lightbox")||e.target.classList.contains("lb-loader")||e.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:h.CLOSE,data:null})},e.prototype.control=function(e){var t,n;e.stopPropagation(),e.target.classList.contains("lb-turnLeft")?(this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform="rotate("+this.rotate+"deg)",this._documentRef.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:h.ROTATE_LEFT,data:null})):e.target.classList.contains("lb-turnRight")?(this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform="rotate("+this.rotate+"deg)",this._documentRef.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:h.ROTATE_RIGHT,data:null})):e.target.classList.contains("lb-zoomOut")?(t=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)/1.5,n=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)/1.5,this._documentRef.getElementById("outerContainer").style.height=t+"px",this._documentRef.getElementById("outerContainer").style.width=n+"px",t=parseInt(this._documentRef.getElementById("image").style.height,10)/1.5,n=parseInt(this._documentRef.getElementById("image").style.width,10)/1.5,this._documentRef.getElementById("image").style.height=t+"px",this._documentRef.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:h.ZOOM_OUT,data:null})):e.target.classList.contains("lb-zoomIn")&&(t=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.height,10),n=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.width,10),this._documentRef.getElementById("outerContainer").style.height=t+"px",this._documentRef.getElementById("outerContainer").style.width=n+"px",t=1.5*parseInt(this._documentRef.getElementById("image").style.height,10),n=1.5*parseInt(this._documentRef.getElementById("image").style.width,10),this._documentRef.getElementById("image").style.height=t+"px",this._documentRef.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:h.ZOOM_IN,data:null}))},e.prototype._rotateContainer=function(){var e=this.rotate;e<0&&(e*=-1),e/90%4==1||e/90%4==3?(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height):(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height)},e.prototype._resetImage=function(){this.rotate=0;var e=this._documentRef.getElementById("image");e&&(e.style.transform="rotate("+this.rotate+"deg)",e.style.webkitTransform="rotate("+this.rotate+"deg)")},e.prototype._calcTransformPoint=function(){var e=parseInt(this._documentRef.getElementById("image").style.height,10),t=parseInt(this._documentRef.getElementById("image").style.width,10),n=this.rotate%360;n<0&&(n=360+n),90===n?this._documentRef.getElementById("image").style.transformOrigin=e/2+"px "+e/2+"px":180===n?this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+e/2+"px":270===n&&(this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px")},e.prototype.nextImage=function(){1!==this.album.length&&(this.currentImageIndex===this.album.length-1?this._changeImage(0):this._changeImage(this.currentImageIndex+1))},e.prototype.prevImage=function(){1!==this.album.length&&(0===this.currentImageIndex&&this.album.length>1?this._changeImage(this.album.length-1):this._changeImage(this.currentImageIndex-1))},e.prototype._validateInputData=function(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(var e=0;e<this.album.length;e++)if(!this.album[e].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0},e.prototype._registerImageLoadingEvent=function(){var e=this,n=this.album[this.currentImageIndex].src;if(this.album[this.currentImageIndex].iframe||this.needsIframe(n))setTimeout((function(){e._onLoadImageSuccess()}));else{var i=new Image;i.onload=function(){e._onLoadImageSuccess()},i.onerror=function(t){e._lightboxEvent.broadcastLightboxEvent({id:h.FILE_NOT_FOUND,data:t})},i.src=this._sanitizer.sanitize(t.SecurityContext.URL,n)}},e.prototype._onLoadImageSuccess=function(){var e,t,n,i,o,r,a,s;this.options.disableKeyboardNav||this._disableKeyboardNav(),t=a=this._imageElem?this._imageElem.nativeElement.naturalWidth:.8*this._windowRef.innerWidth,e=s=this._imageElem?this._imageElem.nativeElement.naturalHeight:.8*this._windowRef.innerHeight,this.options.fitImageInViewPort&&(r=this._windowRef.innerWidth,o=this._windowRef.innerHeight,i=r-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,n=o-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(a>i||s>n)&&(a/i>s/n?(t=i,e=Math.round(s/(a/t))):(e=n,t=Math.round(a/(s/e)))),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"width",t+"px"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"height",e+"px")),this._sizeContainer(t,e),this.options.centerVertically&&this._centerVertically(t,e)},e.prototype._centerVertically=function(e,t){var n=this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-t/2);this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",n+"px")},e.prototype._sizeContainer=function(e,t){var n=this,i=this._outerContainerElem.nativeElement.offsetWidth,o=this._outerContainerElem.nativeElement.offsetHeight,r=e+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,a=t+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(i-r)+Math.abs(o-a)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",r+"px"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",a+"px"),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach((function(e){n._event.transitions.push(n._rendererRef.listen(n._outerContainerElem.nativeElement,e,(function(e){e.target===e.currentTarget&&n._postResize(r,a)})))}))):this._postResize(r,a)):this._postResize(r,a)},e.prototype._postResize=function(e,t){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach((function(e){e()})),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",e+"px"),this._showImage()},e.prototype._showImage=function(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()},e.prototype._prepareComponent=function(){var e=this;this._addCssAnimation(),this._positionLightBox(),setTimeout((function(){e.ui.showZoomButton=e.options.showZoom,e.ui.showRotateButton=e.options.showRotate}),0)},e.prototype._positionLightBox=function(){var e=(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop,t=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",e+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",t+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")},e.prototype._addCssAnimation=function(){var e=this.options.resizeDuration,t=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",e+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",e+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",t+"s")},e.prototype._end=function(){var e=this;this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout((function(){e.cmpRef.destroy()}),1e3*this.options.fadeDuration)},e.prototype._updateDetails=function(){void 0!==this.album[this.currentImageIndex].caption&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())},e.prototype._albumLabel=function(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)},e.prototype._changeImage=function(e){this._resetImage(),this.currentImageIndex=e,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:h.CHANGE_PAGE,data:e})},e.prototype._hideImage=function(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1},e.prototype._updateNav=function(){var e=!1;try{this._documentRef.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(e&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),e&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),e&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))},e.prototype._showLeftArrowNav=function(){this.ui.showLeftArrow=!0},e.prototype._showRightArrowNav=function(){this.ui.showRightArrow=!0},e.prototype._showArrowNav=function(){this.ui.showArrowNav=1!==this.album.length},e.prototype._enableKeyboardNav=function(){var e=this;this._event.keyup=this._rendererRef.listen("document","keyup",(function(t){e._keyboardAction(t)}))},e.prototype._disableKeyboardNav=function(){this._event.keyup&&this._event.keyup()},e.prototype._keyboardAction=function(e){var t=e.keyCode,n=String.fromCharCode(t).toLowerCase();27===t||n.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:h.CLOSE,data:null}):"p"===n||37===t?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):"n"!==n&&39!==t||(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))},e.prototype._getCssStyleValue=function(e,t){return parseFloat(this._windowRef.getComputedStyle(e.nativeElement,null).getPropertyValue(t))},e.prototype._onReceivedEvent=function(e){if(e.id===h.CLOSE)this._end()},e.prototype.needsIframe=function(e){return!!e.match(/\.pdf$/)},e}();x.ɵfac=function(e){return new(e||x)(a.ɵɵdirectiveInject(a.ElementRef),a.ɵɵdirectiveInject(a.Renderer2),a.ɵɵdirectiveInject(d),a.ɵɵdirectiveInject(a.ElementRef),a.ɵɵdirectiveInject(c),a.ɵɵdirectiveInject(l.DomSanitizer),a.ɵɵdirectiveInject(n.DOCUMENT))},x.ɵcmp=a.ɵɵdefineComponent({type:x,selectors:[["","lb-content",""]],viewQuery:function(e,t){if(1&e&&(a.ɵɵviewQuery(m,1),a.ɵɵviewQuery(u,1),a.ɵɵviewQuery(f,1),a.ɵɵviewQuery(g,1),a.ɵɵviewQuery(p,1),a.ɵɵviewQuery(y,1),a.ɵɵviewQuery(_,1),a.ɵɵviewQuery(v,1),a.ɵɵviewQuery(b,1),a.ɵɵviewQuery(E,1)),2&e){var n=void 0;a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._outerContainerElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._containerElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._leftArrowElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._rightArrowElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._navArrowElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._dataContainerElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._imageElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._iframeElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._captionElem=n.first),a.ɵɵqueryRefresh(n=a.ɵɵloadQuery())&&(t._numberElem=n.first)}},hostVars:2,hostBindings:function(e,t){1&e&&a.ɵɵlistener("close",(function(e){return t.close(e)})),2&e&&a.ɵɵclassMap(t.ui.classList)},inputs:{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},attrs:["lb-content",""],decls:32,vars:13,consts:[["id","outerContainer",1,"lb-outerContainer","transition"],["outerContainer",""],["id","container",1,"lb-container"],["container",""],["class","lb-image","id","image","class","lb-image animation fadeIn",3,"src","hidden",4,"ngIf"],["class","lb-image","id","iframe","class","lb-image lb-iframe animation fadeIn",3,"src","hidden",4,"ngIf"],[1,"lb-nav",3,"hidden"],["navArrow",""],[1,"lb-prev",3,"hidden","click"],["leftArrow",""],[1,"lb-next",3,"hidden","click"],["rightArrow",""],[1,"lb-loader",3,"hidden","click"],[1,"lb-cancel"],[1,"lb-dataContainer",3,"hidden"],["dataContainer",""],[1,"lb-data"],[1,"lb-details"],[1,"lb-caption","animation","fadeIn",3,"hidden","innerHtml"],["caption",""],[1,"lb-number","animation","fadeIn",3,"hidden"],["number",""],[1,"lb-controlContainer"],[1,"lb-closeContainer"],[1,"lb-close",3,"click"],[1,"lb-turnContainer",3,"hidden"],[1,"lb-turnLeft",3,"click"],[1,"lb-turnRight",3,"click"],[1,"lb-zoomContainer",3,"hidden"],[1,"lb-zoomOut",3,"click"],[1,"lb-zoomIn",3,"click"],["id","image",1,"lb-image","animation","fadeIn",3,"src","hidden"],["image",""],["id","iframe",1,"lb-image","lb-iframe","animation","fadeIn",3,"src","hidden"],["iframe",""]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"div",0,1),a.ɵɵelementStart(2,"div",2,3),a.ɵɵtemplate(4,I,2,2,"img",4),a.ɵɵtemplate(5,w,3,4,"iframe",5),a.ɵɵelementStart(6,"div",6,7),a.ɵɵelementStart(8,"a",8,9),a.ɵɵlistener("click",(function(){return t.prevImage()})),a.ɵɵelementEnd(),a.ɵɵelementStart(10,"a",10,11),a.ɵɵlistener("click",(function(){return t.nextImage()})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(12,"div",12),a.ɵɵlistener("click",(function(e){return t.close(e)})),a.ɵɵelement(13,"a",13),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(14,"div",14,15),a.ɵɵelementStart(16,"div",16),a.ɵɵelementStart(17,"div",17),a.ɵɵelement(18,"span",18,19),a.ɵɵelementStart(20,"span",20,21),a.ɵɵtext(22),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(23,"div",22),a.ɵɵelementStart(24,"div",23),a.ɵɵelementStart(25,"a",24),a.ɵɵlistener("click",(function(e){return t.close(e)})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(26,"div",25),a.ɵɵelementStart(27,"a",26),a.ɵɵlistener("click",(function(e){return t.control(e)})),a.ɵɵelementEnd(),a.ɵɵelementStart(28,"a",27),a.ɵɵlistener("click",(function(e){return t.control(e)})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(29,"div",28),a.ɵɵelementStart(30,"a",29),a.ɵɵlistener("click",(function(e){return t.control(e)})),a.ɵɵelementEnd(),a.ɵɵelementStart(31,"a",30),a.ɵɵlistener("click",(function(e){return t.control(e)})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(4),a.ɵɵproperty("ngIf",!t.album[t.currentImageIndex].iframe&&!t.needsIframe(t.album[t.currentImageIndex].src)),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.album[t.currentImageIndex].iframe||t.needsIframe(t.album[t.currentImageIndex].src)),a.ɵɵadvance(1),a.ɵɵproperty("hidden",!t.ui.showArrowNav),a.ɵɵadvance(2),a.ɵɵproperty("hidden",!t.ui.showLeftArrow),a.ɵɵadvance(2),a.ɵɵproperty("hidden",!t.ui.showRightArrow),a.ɵɵadvance(2),a.ɵɵproperty("hidden",!t.ui.showReloader),a.ɵɵadvance(2),a.ɵɵproperty("hidden",t.ui.showReloader),a.ɵɵadvance(4),a.ɵɵproperty("hidden",!t.ui.showCaption)("innerHtml",t.album[t.currentImageIndex].caption,a.ɵɵsanitizeHtml),a.ɵɵadvance(2),a.ɵɵproperty("hidden",!t.ui.showPageNumber),a.ɵɵadvance(2),a.ɵɵtextInterpolate(t.content.pageNumber),a.ɵɵadvance(4),a.ɵɵproperty("hidden",!t.ui.showRotateButton),a.ɵɵadvance(3),a.ɵɵproperty("hidden",!t.ui.showZoomButton))},directives:[s.NgIf],pipes:[R],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(x,[{type:t.Component,args:[{selector:"[lb-content]",host:{"[class]":"ui.classList"},templateUrl:"./lightbox.component.html"}]}],(function(){return[{type:a.ElementRef},{type:a.Renderer2},{type:d},{type:a.ElementRef},{type:c},{type:l.DomSanitizer},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]}),{album:[{type:t.Input}],currentImageIndex:[{type:t.Input}],options:[{type:t.Input}],cmpRef:[{type:t.Input}],_outerContainerElem:[{type:t.ViewChild,args:["outerContainer"]}],_containerElem:[{type:t.ViewChild,args:["container"]}],_leftArrowElem:[{type:t.ViewChild,args:["leftArrow"]}],_rightArrowElem:[{type:t.ViewChild,args:["rightArrow"]}],_navArrowElem:[{type:t.ViewChild,args:["navArrow"]}],_dataContainerElem:[{type:t.ViewChild,args:["dataContainer"]}],_imageElem:[{type:t.ViewChild,args:["image"]}],_iframeElem:[{type:t.ViewChild,args:["iframe"]}],_captionElem:[{type:t.ViewChild,args:["caption"]}],_numberElem:[{type:t.ViewChild,args:["number"]}],close:[{type:t.HostListener,args:["close",["$event"]]}]});var C=function(){function e(e,t,n,i){var o=this;this._elemRef=e,this._rendererRef=t,this._lightboxEvent=n,this._documentRef=i,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe((function(e){return o._onReceivedEvent(e)}))}return e.prototype.close=function(){this._lightboxEvent.broadcastLightboxEvent({id:h.CLOSE,data:null})},e.prototype.ngAfterViewInit=function(){var e=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",e+"s"),this._sizeOverlay()},e.prototype.onResize=function(){this._sizeOverlay()},e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e.prototype._sizeOverlay=function(){var e=this._getOverlayWidth(),t=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",e+"px"),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",t+"px")},e.prototype._onReceivedEvent=function(e){if(e.id===h.CLOSE)this._end()},e.prototype._end=function(){var e=this;this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout((function(){e.cmpRef.destroy()}),1e3*this.options.fadeDuration)},e.prototype._getOverlayWidth=function(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)},e.prototype._getOverlayHeight=function(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)},e}();C.ɵfac=function(e){return new(e||C)(a.ɵɵdirectiveInject(a.ElementRef),a.ɵɵdirectiveInject(a.Renderer2),a.ɵɵdirectiveInject(d),a.ɵɵdirectiveInject(n.DOCUMENT))},C.ɵcmp=a.ɵɵdefineComponent({type:C,selectors:[["","lb-overlay",""]],hostVars:2,hostBindings:function(e,t){1&e&&a.ɵɵlistener("click",(function(){return t.close()}))("resize",(function(){return t.onResize()}),!1,a.ɵɵresolveWindow),2&e&&a.ɵɵclassMap(t.classList)},inputs:{options:"options",cmpRef:"cmpRef"},attrs:["lb-overlay",""],decls:0,vars:0,template:function(e,t){},encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(C,[{type:t.Component,args:[{selector:"[lb-overlay]",template:"",host:{"[class]":"classList"}}]}],(function(){return[{type:a.ElementRef},{type:a.Renderer2},{type:d},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]}),{options:[{type:t.Input}],cmpRef:[{type:t.Input}],close:[{type:t.HostListener,args:["click"]}],onResize:[{type:t.HostListener,args:["window:resize"]}]});var S=function(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotate=!1,this.containerElementResolver=function(e){return e.querySelector("body")}};S.ɵfac=function(e){return new(e||S)},S.ɵprov=a.ɵɵdefineInjectable({token:S,factory:S.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(S,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null);var L=function(){function e(e,t,n,i,o,r){this._componentFactoryResolver=e,this._injector=t,this._applicationRef=n,this._lightboxConfig=i,this._lightboxEvent=o,this._documentRef=r}return e.prototype.open=function(e,t,n){var i=this;void 0===t&&(t=0),void 0===n&&(n={});var o=this._createComponent(C),r=this._createComponent(x),a={};this._lightboxEvent.broadcastLightboxEvent({id:h.OPEN}),Object.assign(a,this._lightboxConfig,n),r.instance.album=e,r.instance.currentImageIndex=t,r.instance.options=a,r.instance.cmpRef=r,o.instance.options=a,o.instance.cmpRef=o,setTimeout((function(){i._applicationRef.attachView(o.hostView),i._applicationRef.attachView(r.hostView),o.onDestroy((function(){i._applicationRef.detachView(o.hostView)})),r.onDestroy((function(){i._applicationRef.detachView(r.hostView)}));var e=a.containerElementResolver(i._documentRef);e.appendChild(o.location.nativeElement),e.appendChild(r.location.nativeElement)}))},e.prototype.close=function(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:h.CLOSE})},e.prototype._createComponent=function(e){return this._componentFactoryResolver.resolveComponentFactory(e).create(this._injector)},e}();L.ɵfac=function(e){return new(e||L)(a.ɵɵinject(a.ComponentFactoryResolver),a.ɵɵinject(a.Injector),a.ɵɵinject(a.ApplicationRef),a.ɵɵinject(S),a.ɵɵinject(d),a.ɵɵinject(n.DOCUMENT))},L.ɵprov=a.ɵɵdefineInjectable({token:L,factory:L.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(L,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.ComponentFactoryResolver},{type:a.Injector},{type:a.ApplicationRef},{type:S},{type:d},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]}),null);var B=function(){};B.ɵfac=function(e){return new(e||B)},B.ɵmod=a.ɵɵdefineNgModule({type:B}),B.ɵinj=a.ɵɵdefineInjector({providers:[L,S,d,c],imports:[[n.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&a.ɵɵsetNgModuleScope(B,{declarations:[C,x,R],imports:[n.CommonModule]}),("undefined"==typeof ngDevMode||ngDevMode)&&a.ɵsetClassMetadata(B,[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[C,x,R],providers:[L,S,d,c],entryComponents:[C,x]}]}],null,null),e.LIGHTBOX_EVENT=h,e.Lightbox=L,e.LightboxConfig=S,e.LightboxEvent=d,e.LightboxModule=B,e.LightboxWindowRef=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-lightbox.umd.min.js.map