!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/platform-browser"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-lightbox",["exports","@angular/core","@angular/common","@angular/platform-browser","rxjs"],t):t((e=e||self)["ngx-lightbox"]={},e.ng.core,e.ng.common,e.ng.platformBrowser,e.rxjs)}(this,(function(e,t,i,n,o){"use strict";var r={CHANGE_PAGE:1,CLOSE:2,OPEN:3,ZOOM_IN:4,ZOOM_OUT:5,ROTATE_LEFT:6,ROTATE_RIGHT:7,FILE_NOT_FOUND:8},a=function(){function e(){this._lightboxEventSource=new o.Subject,this.lightboxEvent$=this._lightboxEventSource.asObservable()}return e.prototype.broadcastLightboxEvent=function(e){this._lightboxEventSource.next(e)},e.ɵfac=function(t){return new(t||e)},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}();var s=function(){function e(){}return Object.defineProperty(e.prototype,"nativeWindow",{get:function(){return window},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return new(t||e)},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}(),h=["outerContainer"],l=["container"],d=["leftArrow"],c=["rightArrow"],m=["navArrow"],u=["dataContainer"],f=["image"],g=["iframe"],p=["caption"],_=["number"],y=["lb-content",""];function b(e,i){if(1&e&&t.ɵɵelement(0,"img",31,32),2&e){var n=t.ɵɵnextContext();t.ɵɵproperty("src",n.album[n.currentImageIndex].src,t.ɵɵsanitizeUrl)("hidden",n.ui.showReloader)}}function E(e,i){if(1&e&&(t.ɵɵelement(0,"iframe",33,34),t.ɵɵpipe(2,"safe")),2&e){var n=t.ɵɵnextContext();t.ɵɵproperty("src",t.ɵɵpipeBind1(2,2,n.album[n.currentImageIndex].src),t.ɵɵsanitizeResourceUrl)("hidden",n.ui.showReloader)}}var v=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e.ɵfac=function(i){return new(i||e)(t.ɵɵdirectiveInject(n.DomSanitizer))},e.ɵpipe=t.ɵɵdefinePipe({name:"safe",type:e,pure:!0}),e}(),I=function(){function e(e,t,i,n,o,r,a){var s=this;this._elemRef=e,this._rendererRef=t,this._lightboxEvent=i,this._lightboxElem=n,this._lightboxWindowRef=o,this._sanitizer=r,this._documentRef=a,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe((function(e){return s._onReceivedEvent(e)})),this.rotate=0}return e.prototype.ngOnInit=function(){var e=this;this.album.forEach((function(i){i.caption&&(i.caption=e._sanitizer.sanitize(t.SecurityContext.HTML,i.caption))}))},e.prototype.ngAfterViewInit=function(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem||this._iframeElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())},e.prototype.ngOnDestroy=function(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()},e.prototype.close=function(e){e.stopPropagation(),(e.target.classList.contains("lightbox")||e.target.classList.contains("lb-loader")||e.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:r.CLOSE,data:null})},e.prototype.control=function(e){var t,i;e.stopPropagation(),e.target.classList.contains("lb-turnLeft")?(this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform="rotate("+this.rotate+"deg)",this._documentRef.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:r.ROTATE_LEFT,data:null})):e.target.classList.contains("lb-turnRight")?(this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),this._documentRef.getElementById("image").style.transform="rotate("+this.rotate+"deg)",this._documentRef.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:r.ROTATE_RIGHT,data:null})):e.target.classList.contains("lb-zoomOut")?(t=parseInt(this._documentRef.getElementById("outerContainer").style.height,10)/1.5,i=parseInt(this._documentRef.getElementById("outerContainer").style.width,10)/1.5,this._documentRef.getElementById("outerContainer").style.height=t+"px",this._documentRef.getElementById("outerContainer").style.width=i+"px",t=parseInt(this._documentRef.getElementById("image").style.height,10)/1.5,i=parseInt(this._documentRef.getElementById("image").style.width,10)/1.5,this._documentRef.getElementById("image").style.height=t+"px",this._documentRef.getElementById("image").style.width=i+"px",this._lightboxEvent.broadcastLightboxEvent({id:r.ZOOM_OUT,data:null})):e.target.classList.contains("lb-zoomIn")&&(t=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.height,10),i=1.5*parseInt(this._documentRef.getElementById("outerContainer").style.width,10),this._documentRef.getElementById("outerContainer").style.height=t+"px",this._documentRef.getElementById("outerContainer").style.width=i+"px",t=1.5*parseInt(this._documentRef.getElementById("image").style.height,10),i=1.5*parseInt(this._documentRef.getElementById("image").style.width,10),this._documentRef.getElementById("image").style.height=t+"px",this._documentRef.getElementById("image").style.width=i+"px",this._lightboxEvent.broadcastLightboxEvent({id:r.ZOOM_IN,data:null}))},e.prototype._rotateContainer=function(){var e=this.rotate;e<0&&(e*=-1),e/90%4==1||e/90%4==3?(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height):(this._documentRef.getElementById("outerContainer").style.height=this._documentRef.getElementById("image").style.height,this._documentRef.getElementById("outerContainer").style.width=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.height=this._documentRef.getElementById("image").style.width,this._documentRef.getElementById("container").style.width=this._documentRef.getElementById("image").style.height)},e.prototype._resetImage=function(){this.rotate=0;var e=this._documentRef.getElementById("image");e&&(e.style.transform="rotate("+this.rotate+"deg)",e.style.webkitTransform="rotate("+this.rotate+"deg)")},e.prototype._calcTransformPoint=function(){var e=parseInt(this._documentRef.getElementById("image").style.height,10),t=parseInt(this._documentRef.getElementById("image").style.width,10),i=this.rotate%360;i<0&&(i=360+i),90===i?this._documentRef.getElementById("image").style.transformOrigin=e/2+"px "+e/2+"px":180===i?this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+e/2+"px":270===i&&(this._documentRef.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px")},e.prototype.nextImage=function(){1!==this.album.length&&(this.currentImageIndex===this.album.length-1?this._changeImage(0):this._changeImage(this.currentImageIndex+1))},e.prototype.prevImage=function(){1!==this.album.length&&(0===this.currentImageIndex&&this.album.length>1?this._changeImage(this.album.length-1):this._changeImage(this.currentImageIndex-1))},e.prototype._validateInputData=function(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(var e=0;e<this.album.length;e++)if(!this.album[e].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0},e.prototype._registerImageLoadingEvent=function(){var e=this,i=this.album[this.currentImageIndex].src;if(this.album[this.currentImageIndex].iframe||this.needsIframe(i))setTimeout((function(){e._onLoadImageSuccess()}));else{var n=new Image;n.onload=function(){e._onLoadImageSuccess()},n.onerror=function(t){e._lightboxEvent.broadcastLightboxEvent({id:r.FILE_NOT_FOUND,data:t})},n.src=this._sanitizer.sanitize(t.SecurityContext.URL,i)}},e.prototype._onLoadImageSuccess=function(){var e,t,i,n,o,r,a,s;this.options.disableKeyboardNav||this._disableKeyboardNav(),t=a=this._imageElem?this._imageElem.nativeElement.naturalWidth:.8*this._windowRef.innerWidth,e=s=this._imageElem?this._imageElem.nativeElement.naturalHeight:.8*this._windowRef.innerHeight,this.options.fitImageInViewPort&&(r=this._windowRef.innerWidth,o=this._windowRef.innerHeight,n=r-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,i=o-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(a>n||s>i)&&(a/n>s/i?(t=n,e=Math.round(s/(a/t))):(e=i,t=Math.round(a/(s/e)))),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"width",t+"px"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"height",e+"px")),this._sizeContainer(t,e),this.options.centerVertically&&this._centerVertically(t,e)},e.prototype._centerVertically=function(e,t){var i=this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-t/2);this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",i+"px")},e.prototype._sizeContainer=function(e,t){var i=this,n=this._outerContainerElem.nativeElement.offsetWidth,o=this._outerContainerElem.nativeElement.offsetHeight,r=e+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,a=t+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(n-r)+Math.abs(o-a)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",r+"px"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",a+"px"),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach((function(e){i._event.transitions.push(i._rendererRef.listen(i._outerContainerElem.nativeElement,e,(function(e){e.target===e.currentTarget&&i._postResize(r,a)})))}))):this._postResize(r,a)):this._postResize(r,a)},e.prototype._postResize=function(e,t){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach((function(e){e()})),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",e+"px"),this._showImage()},e.prototype._showImage=function(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()},e.prototype._prepareComponent=function(){var e=this;this._addCssAnimation(),this._positionLightBox(),setTimeout((function(){e.ui.showZoomButton=e.options.showZoom,e.ui.showRotateButton=e.options.showRotate}),0)},e.prototype._positionLightBox=function(){var e=(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop,t=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",e+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",t+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")},e.prototype._addCssAnimation=function(){var e=this.options.resizeDuration,t=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",e+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",e+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle((this._imageElem||this._iframeElem).nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",t+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",t+"s")},e.prototype._end=function(){var e=this;this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout((function(){e.cmpRef.destroy()}),1e3*this.options.fadeDuration)},e.prototype._updateDetails=function(){void 0!==this.album[this.currentImageIndex].caption&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())},e.prototype._albumLabel=function(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)},e.prototype._changeImage=function(e){this._resetImage(),this.currentImageIndex=e,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:r.CHANGE_PAGE,data:e})},e.prototype._hideImage=function(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1},e.prototype._updateNav=function(){var e=!1;try{this._documentRef.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(e&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),e&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),e&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))},e.prototype._showLeftArrowNav=function(){this.ui.showLeftArrow=!0},e.prototype._showRightArrowNav=function(){this.ui.showRightArrow=!0},e.prototype._showArrowNav=function(){this.ui.showArrowNav=1!==this.album.length},e.prototype._enableKeyboardNav=function(){var e=this;this._event.keyup=this._rendererRef.listen("document","keyup",(function(t){e._keyboardAction(t)}))},e.prototype._disableKeyboardNav=function(){this._event.keyup&&this._event.keyup()},e.prototype._keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:r.CLOSE,data:null}):"p"===i||37===t?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):"n"!==i&&39!==t||(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))},e.prototype._getCssStyleValue=function(e,t){return parseFloat(this._windowRef.getComputedStyle(e.nativeElement,null).getPropertyValue(t))},e.prototype._onReceivedEvent=function(e){switch(e.id){case r.CLOSE:this._end()}},e.prototype.needsIframe=function(e){return!!e.match(/\.pdf$/)},e.ɵfac=function(o){return new(o||e)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(a),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(s),t.ɵɵdirectiveInject(n.DomSanitizer),t.ɵɵdirectiveInject(i.DOCUMENT))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["","lb-content",""]],viewQuery:function(e,i){var n;(1&e&&(t.ɵɵviewQuery(h,!0),t.ɵɵviewQuery(l,!0),t.ɵɵviewQuery(d,!0),t.ɵɵviewQuery(c,!0),t.ɵɵviewQuery(m,!0),t.ɵɵviewQuery(u,!0),t.ɵɵviewQuery(f,!0),t.ɵɵviewQuery(g,!0),t.ɵɵviewQuery(p,!0),t.ɵɵviewQuery(_,!0)),2&e)&&(t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._outerContainerElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._containerElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._leftArrowElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._rightArrowElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._navArrowElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._dataContainerElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._imageElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._iframeElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._captionElem=n.first),t.ɵɵqueryRefresh(n=t.ɵɵloadQuery())&&(i._numberElem=n.first))},hostVars:2,hostBindings:function(e,i){1&e&&t.ɵɵlistener("close",(function(e){return i.close(e)})),2&e&&t.ɵɵclassMap(i.ui.classList)},inputs:{album:"album",currentImageIndex:"currentImageIndex",options:"options",cmpRef:"cmpRef"},attrs:y,decls:32,vars:13,consts:[["id","outerContainer",1,"lb-outerContainer","transition"],["outerContainer",""],["id","container",1,"lb-container"],["container",""],["class","lb-image","id","image","class","lb-image animation fadeIn",3,"src","hidden",4,"ngIf"],["class","lb-image","id","iframe","class","lb-image lb-iframe animation fadeIn",3,"src","hidden",4,"ngIf"],[1,"lb-nav",3,"hidden"],["navArrow",""],[1,"lb-prev",3,"hidden","click"],["leftArrow",""],[1,"lb-next",3,"hidden","click"],["rightArrow",""],[1,"lb-loader",3,"hidden","click"],[1,"lb-cancel"],[1,"lb-dataContainer",3,"hidden"],["dataContainer",""],[1,"lb-data"],[1,"lb-details"],[1,"lb-caption","animation","fadeIn",3,"hidden","innerHtml"],["caption",""],[1,"lb-number","animation","fadeIn",3,"hidden"],["number",""],[1,"lb-controlContainer"],[1,"lb-closeContainer"],[1,"lb-close",3,"click"],[1,"lb-turnContainer",3,"hidden"],[1,"lb-turnLeft",3,"click"],[1,"lb-turnRight",3,"click"],[1,"lb-zoomContainer",3,"hidden"],[1,"lb-zoomOut",3,"click"],[1,"lb-zoomIn",3,"click"],["id","image",1,"lb-image","animation","fadeIn",3,"src","hidden"],["image",""],["id","iframe",1,"lb-image","lb-iframe","animation","fadeIn",3,"src","hidden"],["iframe",""]],template:function(e,i){1&e&&(t.ɵɵelementStart(0,"div",0,1),t.ɵɵelementStart(2,"div",2,3),t.ɵɵtemplate(4,b,2,2,"img",4),t.ɵɵtemplate(5,E,3,4,"iframe",5),t.ɵɵelementStart(6,"div",6,7),t.ɵɵelementStart(8,"a",8,9),t.ɵɵlistener("click",(function(){return i.prevImage()})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"a",10,11),t.ɵɵlistener("click",(function(){return i.nextImage()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"div",12),t.ɵɵlistener("click",(function(e){return i.close(e)})),t.ɵɵelement(13,"a",13),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"div",14,15),t.ɵɵelementStart(16,"div",16),t.ɵɵelementStart(17,"div",17),t.ɵɵelement(18,"span",18,19),t.ɵɵelementStart(20,"span",20,21),t.ɵɵtext(22),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(23,"div",22),t.ɵɵelementStart(24,"div",23),t.ɵɵelementStart(25,"a",24),t.ɵɵlistener("click",(function(e){return i.close(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(26,"div",25),t.ɵɵelementStart(27,"a",26),t.ɵɵlistener("click",(function(e){return i.control(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(28,"a",27),t.ɵɵlistener("click",(function(e){return i.control(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(29,"div",28),t.ɵɵelementStart(30,"a",29),t.ɵɵlistener("click",(function(e){return i.control(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(31,"a",30),t.ɵɵlistener("click",(function(e){return i.control(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngIf",!i.album[i.currentImageIndex].iframe&&!i.needsIframe(i.album[i.currentImageIndex].src)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.album[i.currentImageIndex].iframe||i.needsIframe(i.album[i.currentImageIndex].src)),t.ɵɵadvance(1),t.ɵɵproperty("hidden",!i.ui.showArrowNav),t.ɵɵadvance(2),t.ɵɵproperty("hidden",!i.ui.showLeftArrow),t.ɵɵadvance(2),t.ɵɵproperty("hidden",!i.ui.showRightArrow),t.ɵɵadvance(2),t.ɵɵproperty("hidden",!i.ui.showReloader),t.ɵɵadvance(2),t.ɵɵproperty("hidden",i.ui.showReloader),t.ɵɵadvance(4),t.ɵɵproperty("hidden",!i.ui.showCaption)("innerHtml",i.album[i.currentImageIndex].caption,t.ɵɵsanitizeHtml),t.ɵɵadvance(2),t.ɵɵproperty("hidden",!i.ui.showPageNumber),t.ɵɵadvance(2),t.ɵɵtextInterpolate(i.content.pageNumber),t.ɵɵadvance(4),t.ɵɵproperty("hidden",!i.ui.showRotateButton),t.ɵɵadvance(3),t.ɵɵproperty("hidden",!i.ui.showZoomButton))},directives:[i.NgIf],pipes:[v],encapsulation:2}),e}(),w=function(){function e(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotate=!1,this.containerElementResolver=function(e){return e.querySelector("body")}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}(),R=["lb-overlay",""],x=function(){function e(e,t,i,n){var o=this;this._elemRef=e,this._rendererRef=t,this._lightboxEvent=i,this._documentRef=n,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe((function(e){return o._onReceivedEvent(e)}))}return e.prototype.close=function(){this._lightboxEvent.broadcastLightboxEvent({id:r.CLOSE,data:null})},e.prototype.ngAfterViewInit=function(){var e=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",e+"s"),this._sizeOverlay()},e.prototype.onResize=function(){this._sizeOverlay()},e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e.prototype._sizeOverlay=function(){var e=this._getOverlayWidth(),t=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",e+"px"),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",t+"px")},e.prototype._onReceivedEvent=function(e){switch(e.id){case r.CLOSE:this._end()}},e.prototype._end=function(){var e=this;this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout((function(){e.cmpRef.destroy()}),1e3*this.options.fadeDuration)},e.prototype._getOverlayWidth=function(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)},e.prototype._getOverlayHeight=function(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)},e.ɵfac=function(n){return new(n||e)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(a),t.ɵɵdirectiveInject(i.DOCUMENT))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["","lb-overlay",""]],hostVars:2,hostBindings:function(e,i){1&e&&t.ɵɵlistener("click",(function(){return i.close()}))("resize",(function(){return i.onResize()}),!1,t.ɵɵresolveWindow),2&e&&t.ɵɵclassMap(i.classList)},inputs:{options:"options",cmpRef:"cmpRef"},attrs:R,decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),C=function(){function e(e,t,i,n,o,r){this._componentFactoryResolver=e,this._injector=t,this._applicationRef=i,this._lightboxConfig=n,this._lightboxEvent=o,this._documentRef=r}return e.prototype.open=function(e,t,i){var n=this;void 0===t&&(t=0),void 0===i&&(i={});var o=this._createComponent(x),a=this._createComponent(I),s={};this._lightboxEvent.broadcastLightboxEvent({id:r.OPEN}),Object.assign(s,this._lightboxConfig,i),a.instance.album=e,a.instance.currentImageIndex=t,a.instance.options=s,a.instance.cmpRef=a,o.instance.options=s,o.instance.cmpRef=o,setTimeout((function(){n._applicationRef.attachView(o.hostView),n._applicationRef.attachView(a.hostView),o.onDestroy((function(){n._applicationRef.detachView(o.hostView)})),a.onDestroy((function(){n._applicationRef.detachView(a.hostView)}));var e=s.containerElementResolver(n._documentRef);e.appendChild(o.location.nativeElement),e.appendChild(a.location.nativeElement)}))},e.prototype.close=function(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:r.CLOSE})},e.prototype._createComponent=function(e){return this._componentFactoryResolver.resolveComponentFactory(e).create(this._injector)},e.ɵfac=function(n){return new(n||e)(t.ɵɵinject(t.ComponentFactoryResolver),t.ɵɵinject(t.Injector),t.ɵɵinject(t.ApplicationRef),t.ɵɵinject(w),t.ɵɵinject(a),t.ɵɵinject(i.DOCUMENT))},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}(),S=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[C,w,a,s],imports:[[i.CommonModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(S,{declarations:[x,I,v],imports:[i.CommonModule]}),e.LIGHTBOX_EVENT=r,e.Lightbox=C,e.LightboxConfig=w,e.LightboxEvent=a,e.LightboxModule=S,e.LightboxWindowRef=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-lightbox.umd.min.js.map